{"entries":[{"timestamp":1756313119201,"editorVersion":"8.0.16","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":27397,"diffs":[[1,"<xml xmlns=\"http://www.w3.org/1999/xhtml\">\n  <block type=\"pxt-on-start\"></block>\n  <block type=\"device_forever\"></block>\n</xml>"]]}]},{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":4120,"diffs":[[1,"\n"]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":2,"length1":18,"diffs":[[1,"    \"name\": \"Sem título\",\n"]]},{"start1":116,"length1":156,"diffs":[[1,"        \"microphone\": \"*\"\n"]]},{"start1":206,"length1":39,"diffs":[[1,"        \"README.md\"\n"]]},{"start1":233,"length1":31,"diffs":[[1,"    \"additionalFilePaths\": []\n"]]}]},{"type":"added","filename":"main.py","value":""}]},{"timestamp":1758418310578,"editorVersion":"8.0.16","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":1,"diffs":[[1,"//  Declarações de variáveis (estilo MakeCode)\nlet strip : neopixel.Strip = null\nlet brilho_calculado = 0\nlet COR_INICIAL = 0\nlet COR_FRENTE = 0\nlet COR_TRAS = 0\nlet COR_CURVA = 0\nlet COR_PARADO = 0\n//  ==============================================================================\n//  --- 1. CONFIGURAÇÕES PERSONALIZÁVEIS ---\n//  Altere os valores aqui para customizar seu robô.\n//  ==============================================================================\n//  --- GERAL ---\nlet RADIO_GROUP = 1\nlet CMD_FORWARD = \"F\"\nlet CMD_BACKWARD = \"B\"\nlet CMD_LEFT = \"E\"\nlet CMD_RIGHT = \"D\"\nlet CMD_STOP = \"S\"\n//  --- MOTORES ---\nlet VELOCIDADE_FRENTE = 255\nlet VELOCIDADE_CURVA = 255\n//  --- SERVO ---\nlet PORTA_SERVO = robotbit.Servos.S2\nlet ANGULO_SERVO = 90\n//  <- A LINHA QUE FALTAVA! Mudei para 90 como exemplo.\nlet ANGULO_RIGHT = 110\nlet ANGULO_LEFT = 70\n//  --- LEDS RGB (NEOPIXEL) ---\nlet BRILHO_LEDS = 0.5\n//  Valor de 0.0 (apagado) a 1.0 (máximo)\nlet RGB_INICIAL = [128, 0, 128]\nlet RGB_FRENTE = [0, 255, 0]\nlet RGB_TRAS = [255, 0, 0]\nlet RGB_CURVA = [0, 0, 255]\nlet RGB_PARADO = [0, 0, 0]\n//  ==============================================================================\n//  --- 2. DEFINIÇÃO DAS FUNÇÕES (O que o robô faz) ---\n//  ==============================================================================\n//  ==============================================================================\n//  --- 3. EXECUÇÃO INICIAL (O que acontece quando o robô liga) ---\n//  ==============================================================================\n//  Associa os eventos (gesto, botão, rádio) às suas respectivas funções\nradio.onReceivedString(function on_radio_received(receivedString: string) {\n    if (receivedString == CMD_FORWARD) {\n        basic.showArrow(ArrowNames.North)\n        strip.showColor(COR_FRENTE)\n        robotbit.Servo(PORTA_SERVO, ANGULO_SERVO)\n        robotbit.MotorRunDual(robotbit.Motors.M1A, VELOCIDADE_FRENTE, robotbit.Motors.M2A, VELOCIDADE_FRENTE)\n    } else if (receivedString == CMD_BACKWARD) {\n        basic.showArrow(ArrowNames.South)\n        strip.showColor(COR_TRAS)\n        robotbit.Servo(PORTA_SERVO, ANGULO_SERVO)\n        robotbit.MotorRunDual(robotbit.Motors.M1A, -VELOCIDADE_FRENTE, robotbit.Motors.M2A, -VELOCIDADE_FRENTE)\n    } else if (receivedString == CMD_LEFT) {\n        basic.showArrow(ArrowNames.West)\n        strip.showColor(COR_CURVA)\n        robotbit.Servo(PORTA_SERVO, ANGULO_LEFT)\n        robotbit.MotorRunDual(robotbit.Motors.M1A, VELOCIDADE_CURVA, robotbit.Motors.M2A, VELOCIDADE_CURVA)\n    } else if (receivedString == CMD_RIGHT) {\n        basic.showArrow(ArrowNames.East)\n        strip.showColor(COR_CURVA)\n        robotbit.Servo(PORTA_SERVO, ANGULO_RIGHT)\n        robotbit.MotorRunDual(robotbit.Motors.M1A, VELOCIDADE_CURVA, robotbit.Motors.M2A, VELOCIDADE_CURVA)\n    } else if (receivedString == CMD_STOP) {\n        robotbit.MotorStopAll()\n        strip.showColor(COR_PARADO)\n        basic.showIcon(IconNames.Asleep)\n    }\n    \n})\ninput.onLogoEvent(TouchButtonEvent.Pressed, function on_logo_pressed() {\n    robotbit.MotorStopAll()\n    strip.showColor(COR_PARADO)\n    robotbit.MatrixDraw(0, 0)\n    basic.showIcon(IconNames.No)\n})\ninput.onGesture(Gesture.TiltLeft, function on_gesture_tilt_left() {\n    //  Esta função controla o servo. Agora deve funcionar!\n    robotbit.Servo(PORTA_SERVO, ANGULO_SERVO)\n})\n//  Inicializa a fita de LED\nstrip = neopixel.create(DigitalPin.P16, 4, NeoPixelMode.RGB)\nbrilho_calculado = Math.trunc(BRILHO_LEDS * 255)\nstrip.setBrightness(brilho_calculado)\n//  Prepara as cores\nCOR_INICIAL = neopixel.rgb(RGB_INICIAL[0], RGB_INICIAL[1], RGB_INICIAL[2])\nCOR_FRENTE = neopixel.rgb(RGB_FRENTE[0], RGB_FRENTE[1], RGB_FRENTE[2])\nCOR_TRAS = neopixel.rgb(RGB_TRAS[0], RGB_TRAS[1], RGB_TRAS[2])\nCOR_CURVA = neopixel.rgb(RGB_CURVA[0], RGB_CURVA[1], RGB_CURVA[2])\nCOR_PARADO = neopixel.rgb(RGB_PARADO[0], RGB_PARADO[1], RGB_PARADO[2])\n//  Configura o rádio e mostra o ícone inicial\nradio.setGroup(RADIO_GROUP)\nbasic.showIcon(IconNames.Silly)\n//  Efeito de luz inicial\nstrip.showColor(COR_INICIAL)\nbasic.pause(500)\nstrip.showColor(COR_PARADO)\n"]]}]}]},{"timestamp":1758418409894,"editorVersion":"8.0.16","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":1795,"diffs":[[1,""]]},{"start1":1,"length1":3161,"diffs":[[1,""]]}]},{"type":"edited","filename":"main.py","patch":[{"start1":0,"length1":4720,"diffs":[[1,""]]}]}]},{"timestamp":1758418729994,"editorVersion":"8.0.16","changes":[{"type":"edited","filename":"main.py","patch":[{"start1":0,"length1":0,"diffs":[[1,"# =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=\n# --- 1. CONFIGURAÇÕES E DECLARAÇÕES ---\n# =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=\n\n# --- Declarações de variáveis ---\nstrip: neopixel.Strip = None\nbrilho_calculado = 0\nCOR_INICIAL = 0; COR_FRENTE = 0; COR_TRAS = 0; COR_CURVA = 0; COR_PARADO = 0\n\n# --- Variáveis para o mecanismo de segurança (Failsafe) ---\nultimo_comando_recebido_tempo = 0\nTIMEOUT_CONEXAO = 500 # 0.5 segundos sem sinal para parar automaticamente\nrobot_esta_parado = True\n\n# --- Configurações Personalizáveis ---\nRADIO_GROUP = 1\n\n# --- MOTORES ---\nVELOCIDADE_FRENTE = 255\nVELOCIDADE_CURVA = 255\n\n# --- SERVO (SEÇÃO CORRIGIDA) ---\nPORTA_SERVO = robotbit.Servos.S2\nANGULO_CENTRO = 90  # Ângulo para andar reto\nANGULO_RIGHT = 110    # Ângulo para virar à direita\nANGULO_LEFT = 70      # Ângulo para virar à esquerda\n\n# --- LEDS RGB (NEOPIXEL) ---\nBRILHO_LEDS = 0.5 # Valor de 0.0 (apagado) a 1.0 (máximo)\nRGB_INICIAL = (255, 255, 255)\nRGB_FRENTE = (0, 255, 0)\nRGB_TRAS = (255, 0, 0)\nRGB_CURVA = (0, 0, 255)\nRGB_PARADO = (255, 0, 0)\n\n\n# =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=\n# --- 2. DEFINIÇÃO DAS FUNÇÕES (MOVIMENTO E EVENTOS) ---\n# =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=\n\ndef mover_frente():\n    # Ação imediata para baixa latência\n    robotbit.servo(PORTA_SERVO, ANGULO_CENTRO)\n    robotbit.motor_run_dual(robotbit.Motors.M1A, VELOCIDADE_FRENTE, robotbit.Motors.M2A, VELOCIDADE_FRENTE)\n    # Feedback visual\n    basic.show_arrow(ArrowNames.NORTH)\n    strip.show_color(COR_FRENTE)\n\ndef mover_tras():\n    robotbit.servo(PORTA_SERVO, ANGULO_CENTRO)\n    robotbit.motor_run_dual(robotbit.Motors.M1A, -VELOCIDADE_FRENTE, robotbit.Motors.M2A, -VELOCIDADE_FRENTE)\n    basic.show_arrow(ArrowNames.SOUTH)\n    strip.show_color(COR_TRAS)\n\ndef virar_esquerda():\n    robotbit.servo(PORTA_SERVO, ANGULO_LEFT)\n    robotbit.motor_run_dual(robotbit.Motors.M1A, VELOCIDADE_CURVA, robotbit.Motors.M2A, VELOCIDADE_CURVA)\n    basic.show_arrow(ArrowNames.WEST)\n    strip.show_color(COR_CURVA)\n\ndef virar_direita():\n    robotbit.servo(PORTA_SERVO, ANGULO_RIGHT)\n    robotbit.motor_run_dual(robotbit.Motors.M1A, VELOCIDADE_CURVA, robotbit.Motors.M2A, VELOCIDADE_CURVA)\n    basic.show_arrow(ArrowNames.EAST)\n    strip.show_color(COR_CURVA)\n\ndef parar_robô():\n    robotbit.motor_stop_all()\n    # Centraliza o servo ao parar para a próxima partida ser reta\n    robotbit.servo(PORTA_SERVO, ANGULO_CENTRO)\n    strip.show_color(COR_PARADO)\n    basic.show_icon(IconNames.ASLEEP)\n\n# --- Função de Rádio ATUALIZADA com Failsafe ---\ndef on_radio_received(receivedNumber):\n    global ultimo_comando_recebido_tempo\n    ultimo_comando_recebido_tempo = input.running_time() # Zera o cronômetro do Failsafe\n\n    if receivedNumber == 1: mover_frente()\n    elif receivedNumber == 2: mover_tras()\n    elif receivedNumber == 3: virar_esquerda()\n    elif receivedNumber == 4: virar_direita()\n    elif receivedNumber == 5: parar_robô()\n\n# =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=\n# --- 3. EXECUÇÃO INICIAL E LOOP PRINCIPAL DE SEGURANÇA ---\n# =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=\n\n# --- Bloco de Inicialização ---\nradio.on_received_number(on_radio_received)\n# ... (Configure outros eventos como on_logo_pressed, se desejar) ...\n\nradio.set_transmit_power(7)\nradio.set_group(RADIO_GROUP)\n\n# Inicializa a fita de LED\nstrip = neopixel.create(DigitalPin.P16, 4, NeoPixelMode.RGB)\nbrilho_calculado = int(BRILHO_LEDS * 255)\nstrip.set_brightness(brilho_calculado)\n\n# Prepara as cores\nCOR_INICIAL = neopixel.rgb(RGB_INICIAL[0], RGB_INICIAL[1], RGB_INICIAL[2])\nCOR_FRENTE = neopixel.rgb(RGB_FRENTE[0], RGB_FRENTE[1], RGB_FRENTE[2])\nCOR_TRAS = neopixel.rgb(RGB_TRAS[0], RGB_TRAS[1], RGB_TRAS[2])\nCOR_CURVA = neopixel.rgb(RGB_CURVA[0], RGB_CURVA[1], RGB_CURVA[2])\nCOR_PARADO = neopixel.rgb(RGB_PARADO[0], RGB_PARADO[1], RGB_PARADO[2])\n\n# Mostra o ícone inicial e faz o efeito de luz\nbasic.show_icon(IconNames.SILLY)\nstrip.show_color(COR_INICIAL)\nbasic.pause(500)\nstrip.show_color(COR_PARADO)\n\n# Define o tempo inicial para o failsafe e centraliza o servo\nultimo_comando_recebido_tempo = input.running_time()\nrobotbit.servo(PORTA_SERVO, ANGULO_CENTRO)\n\n# --- Loop Principal para o Failsafe de Conexão ---\nwhile True:\n    tempo_sem_sinal = input.running_time() - ultimo_comando_recebido_tempo\n\n    if tempo_sem_sinal > TIMEOUT_CONEXAO and not robot_esta_parado:\n        parar_robô()\n        robot_esta_parado = True\n    \n    if tempo_sem_sinal < TIMEOUT_CONEXAO:\n        robot_esta_parado = False\n        \n    basic.pause(100)"]]}]}]},{"timestamp":1758419790159,"editorVersion":"8.0.16","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":0,"diffs":[[1,"let tempo_sem_sinal: number;\n//  =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=\n//  --- 1. CONFIGURAÇÕES E DECLARAÇÕES ---\n//  =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=\n//  --- Declarações de variáveis ---\nlet strip : neopixel.Strip = null\nlet brilho_calculado = 0\nlet COR_INICIAL = 0\nlet COR_FRENTE = 0\nlet COR_TRAS = 0\nlet COR_CURVA = 0\nlet COR_PARADO = 0\n//  --- Variáveis para o mecanismo de segurança (Failsafe) ---\nlet ultimo_comando_recebido_tempo = 0\nlet TIMEOUT_CONEXAO = 500\n//  0.5 segundos sem sinal para parar automaticamente\nlet robot_esta_parado = true\n//  --- Configurações Personalizáveis ---\nlet RADIO_GROUP = 1\n//  --- MOTORES ---\nlet VELOCIDADE_FRENTE = 255\nlet VELOCIDADE_CURVA = 255\n//  --- SERVO (SEÇÃO CORRIGIDA) ---\nlet PORTA_SERVO = robotbit.Servos.S2\nlet ANGULO_CENTRO = 90\n//  Ângulo para andar reto\nlet ANGULO_RIGHT = 110\n//  Ângulo para virar à direita\nlet ANGULO_LEFT = 70\n//  Ângulo para virar à esquerda\n//  --- LEDS RGB (NEOPIXEL) ---\nlet BRILHO_LEDS = 0.5\n//  Valor de 0.0 (apagado) a 1.0 (máximo)\nlet RGB_INICIAL = [255, 255, 255]\nlet RGB_FRENTE = [0, 255, 0]\nlet RGB_TRAS = [255, 0, 0]\nlet RGB_CURVA = [0, 0, 255]\nlet RGB_PARADO = [255, 0, 0]\n//  =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=\n//  --- 2. DEFINIÇÃO DAS FUNÇÕES (MOVIMENTO E EVENTOS) ---\n//  =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=\nfunction mover_frente() {\n    //  Ação imediata para baixa latência\n    robotbit.Servo(PORTA_SERVO, ANGULO_CENTRO)\n    robotbit.MotorRunDual(robotbit.Motors.M1A, VELOCIDADE_FRENTE, robotbit.Motors.M2A, VELOCIDADE_FRENTE)\n    //  Feedback visual\n    basic.showArrow(ArrowNames.North)\n    strip.showColor(COR_FRENTE)\n}\n"]]},{"start1":1796,"length1":0,"diffs":[[1,"function mover_tras() {\n    robotbit.Servo(PORTA_SERVO, ANGULO_CENTRO)\n    robotbit.MotorRunDual(robotbit.Motors.M1A, -VELOCIDADE_FRENTE, robotbit.Motors.M2A, -VELOCIDADE_FRENTE)\n    basic.showArrow(ArrowNames.South)\n    strip.showColor(COR_TRAS)\n}\n\nfunction virar_esquerda() {\n    robotbit.Servo(PORTA_SERVO, ANGULO_LEFT)\n    robotbit.MotorRunDual(robotbit.Motors.M1A, VELOCIDADE_CURVA, robotbit.Motors.M2A, VELOCIDADE_CURVA)\n    basic.showArrow(ArrowNames.West)\n    strip.showColor(COR_CURVA)\n}\n\nfunction virar_direita() {\n    robotbit.Servo(PORTA_SERVO, ANGULO_RIGHT)\n    robotbit.MotorRunDual(robotbit.Motors.M1A, VELOCIDADE_CURVA, robotbit.Motors.M2A, VELOCIDADE_CURVA)\n    basic.showArrow(ArrowNames.East)\n    strip.showColor(COR_CURVA)\n}\n\nfunction parar_robô() {\n    robotbit.MotorStopAll()\n    //  Centraliza o servo ao parar para a próxima partida ser reta\n    robotbit.Servo(PORTA_SERVO, ANGULO_CENTRO)\n    strip.showColor(COR_PARADO)\n    basic.showIcon(IconNames.Asleep)\n}\n\n//  --- Função de Rádio ATUALIZADA com Failsafe ---\n//  =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=\n//  --- 3. EXECUÇÃO INICIAL E LOOP PRINCIPAL DE SEGURANÇA ---\n//  =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=\n//  --- Bloco de Inicialização ---\nradio.onReceivedNumber(function on_radio_received(receivedNumber: number) {\n    \n    ultimo_comando_recebido_tempo = input.runningTime()\n    //  Zera o cronômetro do Failsafe\n    if (receivedNumber == 1) {\n        mover_frente()\n    } else if (receivedNumber == 2) {\n        mover_tras()\n    } else if (receivedNumber == 3) {\n        virar_esquerda()\n    } else if (receivedNumber == 4) {\n        virar_direita()\n    } else if (receivedNumber == 5) {\n        parar_robô()\n    }\n    \n})\n//  ... (Configure outros eventos como on_logo_pressed, se desejar) ...\nradio.setTransmitPower(7)\nradio.setGroup(RADIO_GROUP)\n//  Inicializa a fita de LED\nstrip = neopixel.create(DigitalPin.P16, 4, NeoPixelMode.RGB)\nbrilho_calculado = Math.trunc(BRILHO_LEDS * 255)\nstrip.setBrightness(brilho_calculado)\n//  Prepara as cores\nCOR_INICIAL = neopixel.rgb(RGB_INICIAL[0], RGB_INICIAL[1], RGB_INICIAL[2])\nCOR_FRENTE = neopixel.rgb(RGB_FRENTE[0], RGB_FRENTE[1], RGB_FRENTE[2])\nCOR_TRAS = neopixel.rgb(RGB_TRAS[0], RGB_TRAS[1], RGB_TRAS[2])\nCOR_CURVA = neopixel.rgb(RGB_CURVA[0], RGB_CURVA[1], RGB_CURVA[2])\nCOR_PARADO = neopixel.rgb(RGB_PARADO[0], RGB_PARADO[1], RGB_PARADO[2])\n//  Mostra o ícone inicial e faz o efeito de luz\nbasic.showIcon(IconNames.Silly)\nstrip.showColor(COR_INICIAL)\nbasic.pause(500)\nstrip.showColor(COR_PARADO)\n//  Define o tempo inicial para o failsafe e centraliza o servo\nultimo_comando_recebido_tempo = input.runningTime()\nrobotbit.Servo(PORTA_SERVO, ANGULO_CENTRO)\n//  --- Loop Principal para o Failsafe de Conexão ---\nwhile (true) {\n    tempo_sem_sinal = input.runningTime() - ultimo_comando_recebido_tempo\n    if (tempo_sem_sinal > TIMEOUT_CONEXAO && !robot_esta_parado) {\n        parar_robô()\n        robot_esta_parado = true\n    }\n    \n    if (tempo_sem_sinal < TIMEOUT_CONEXAO) {\n        robot_esta_parado = false\n    }\n    \n    basic.pause(100)\n}\n"]]}]}]},{"timestamp":1758419790438,"editorVersion":"8.0.16","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":1617,"diffs":[[1,""]]},{"start1":1,"length1":4801,"diffs":[[1,""]]}]},{"type":"edited","filename":"main.py","patch":[{"start1":0,"length1":6325,"diffs":[[1,""]]}]}]},{"timestamp":1758420042816,"editorVersion":"8.0.16","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":4112,"length1":325,"diffs":[[1,"let deltarune_motif_melhorado = \"D5:2 C#5:1 B4:2 G4:3 A4:2 B4:1 C#5:1 D5:3 R:1 D5:1 C#5:1 B4:1 G4:3 A4:2 G4:2 F#4:1 G4:4\"\nmusic.playMelody(deltarune_motif_melhorado, 130)\n"]]}]},{"type":"edited","filename":"main.py","patch":[{"start1":5632,"length1":320,"diffs":[[1,"deltarune_motif_melhorado = \"D5:2 C#5:1 B4:2 G4:3 A4:2 B4:1 C#5:1 D5:3 R:1 D5:1 C#5:1 B4:1 G4:3 A4:2 G4:2 F#4:1 G4:4\"\nmusic.play_melody(deltarune_motif_melhorado, 130)\n"]]}]}]},{"timestamp":1758420514569,"editorVersion":"8.0.16","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":4380,"length1":43,"diffs":[[1,"music.playMelody(the_world_revolving, 320)\n"]]}]},{"type":"edited","filename":"main.py","patch":[{"start1":5896,"length1":56,"diffs":[[1,"music.play_melody(the_world_revolving, 320) # bpm = 320\n"]]}]}]},{"timestamp":1758420739660,"editorVersion":"8.0.16","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":359,"length1":0,"diffs":[[1,"let COR_PARADO = 0\n"]]},{"start1":3362,"length1":24,"diffs":[[1,"//  ==============================================================================\n//  --- 4. EXECUÇÃO INICIAL ---\n//  ==============================================================================\n//  --- Inicialização dos Periféricos ---\nradio.setTransmitPower(7)\nradio.setGroup(RADIO_GROUP)\nstrip = neopixel.create(DigitalPin.P16, 4, NeoPixelMode.RGB)\nbrilho_calculado = Math.trunc(BRILHO_LEDS * 255)\nstrip.setBrightness(brilho_calculado)\nCOR_FRENTE = neopixel.rgb(RGB_FRENTE[0], RGB_FRENTE[1], RGB_FRENTE[2])\nCOR_TRAS = neopixel.rgb(RGB_TRAS[0], RGB_TRAS[1], RGB_TRAS[2])\nCOR_CURVA = neopixel.rgb(RGB_CURVA[0], RGB_CURVA[1], RGB_CURVA[2])\n//  --- Sequência de Inicialização com o \"Freedom Motif\" de Deltarune ---\nbasic.showIcon(IconNames.Target)\nlet the_world_revolving = \"A4:8 R:1 F#4:1 G#4:1 A4:2 C#5:1 D5:1 C#5:1 A4:1 B4:9 R:1 G#4:1 A4:1 B4:1 C#5:2 A4:2 B4:2 C#5:2 D5:1 C#5:1 B4:1 A4:1 G#4:1 A4:1 B4:1 C#5:1 D5:1 C#5:1 B4:1 A4:1 G#4:1 F#4:1 G#4:1 A4:1 E4:4 R:1 G#4:1 A4:6 R:1 G#4:1 F#4:2 G#4:2 A4:2 B4:2 C#5:4\"\nmusic.playMelody(the_world_revolving, 160)\n//  bpm = 320\nstrip.showColor(neopixel.colors(NeoPixelColors.White))\nbasic.pause(250)\nstrip.showColor(neopixel.colors(NeoPixelColors.Black))\nbasic.pause(250)\nrobotbit.Servo(PORTA_SERVO, ANGULO_LEFT)\nbasic.pause(250)\nrobotbit.Servo(PORTA_SERVO, ANGULO_RIGHT)\nbasic.pause(250)\nrobotbit.Servo(PORTA_SERVO, ANGULO_CENTRO)\nmusic.playTone(Note.G5, music.beat(BeatFraction.Eighth))\nparar_robô_normal()\nultimo_comando_recebido_tempo = input.runningTime()\n//  Registra a função on_forever para ser executada em loop\nbasic.forever(function on_forever() {\n"]]},{"start1":6570,"length1":540,"diffs":[[1,"})\n"]]}]},{"type":"edited","filename":"main.py","patch":[{"start1":288,"length1":45,"diffs":[[1,"COR_FRENTE = 0; COR_TRAS = 0; COR_CURVA = 0; COR_PARADO = 0\n"]]},{"start1":5395,"length1":23,"diffs":[[1,"COR_TRAS = neopixel.rgb(RGB_TRAS[0], RGB_TRAS[1], RGB_TRAS[2])\nCOR_CURVA = neopixel.rgb(RGB_CURVA[0], RGB_CURVA[1], RGB_CURVA[2])\n\n# --- Sequência de Inicialização com o \"Freedom Motif\" de Deltarune ---\nbasic.show_icon(IconNames.TARGET)\nthe_world_revolving = \"A4:8 R:1 F#4:1 G#4:1 A4:2 C#5:1 D5:1 C#5:1 A4:1 B4:9 R:1 G#4:1 A4:1 B4:1 C#5:2 A4:2 B4:2 C#5:2 D5:1 C#5:1 B4:1 A4:1 G#4:1 A4:1 B4:1 C#5:1 D5:1 C#5:1 B4:1 A4:1 G#4:1 F#4:1 G#4:1 A4:1 E4:4 R:1 G#4:1 A4:6 R:1 G#4:1 F#4:2 G#4:2 A4:2 B4:2 C#5:4\"\nmusic.play_melody(the_world_revolving, 160) # bpm = 320\nstrip.show_color(neopixel.colors(NeoPixelColors.WHITE)); basic.pause(250)\nstrip.show_color(neopixel.colors(NeoPixelColors.BLACK)); basic.pause(250)\nrobotbit.servo(PORTA_SERVO, ANGULO_LEFT); basic.pause(250)\nrobotbit.servo(PORTA_SERVO, ANGULO_RIGHT); basic.pause(250)\nrobotbit.servo(PORTA_SERVO, ANGULO_CENTRO)\nmusic.play_tone(Note.G5, music.beat(BeatFraction.EIGHTH))\nparar_robô_normal()\nultimo_comando_recebido_tempo = input.running_time()\n\n# Registra a função on_forever para ser executada em loop\nbasic.forever(on_forever)"]]}]}]},{"timestamp":1758421166126,"editorVersion":"8.0.16","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":3343,"length1":1276,"diffs":[[1,"function on_forever() {\n"]]},{"start1":4969,"length1":3,"diffs":[[1,"}\n\n//  ==============================================================================\n//  --- 4. EXECUÇÃO INICIAL ---\n//  ==============================================================================\n//  --- Inicialização dos Periféricos ---\nradio.setTransmitPower(7)\nradio.setGroup(RADIO_GROUP)\nstrip = neopixel.create(DigitalPin.P16, 4, NeoPixelMode.RGB)\nbrilho_calculado = Math.trunc(BRILHO_LEDS * 255)\nstrip.setBrightness(brilho_calculado)\nCOR_FRENTE = neopixel.rgb(RGB_FRENTE[0], RGB_FRENTE[1], RGB_FRENTE[2])\nCOR_TRAS = neopixel.rgb\n"]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":2,"length1":29,"diffs":[[1,"    \"name\": \"rc - Copy\",\n"]]}]},{"type":"edited","filename":"main.py","patch":[{"start1":5309,"length1":40,"diffs":[[1,""]]},{"start1":5380,"length1":706,"diffs":[[1,"COR_TRAS = neopixel.rgb"]]}]}]},{"timestamp":1758421680657,"editorVersion":"8.0.16","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":1291,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"X,Q@j[H_t/?o8EtGl1ns\">CMD_FORWARD</variable><variable id=\"$gHvdtcIj_E[KKwK$m[F\">CMD_BACKWARD</variable><variable id=\"KZZU}#nsP362E=Qc0KZ0\">CMD_LEFT</variable><variable id=\"/@H}+d*xe}Ig#4#}XgEM\">CMD_RIGHT</variable><variable id=\"e{T;mauHqd$`U{jV-Ojw\">CMD_STOP</variable><variable id=\"SZaCZT(6KdcIK,#_C0i#\">strip</variable><variable id=\"Q=Sv(XL66=dyN.w=950t\">COR_FRENTE</variable><variable id=\"MU8zFCbnz63IGtD[dS},\">VELOCIDADE_FRENTE</variable><variable id=\"V9j*3da!fG~uq)24]:?[\">COR_TRAS</variable><variable id=\"k$NQj^sES/k;|7Kss6??\">COR_CURVA</variable><variable id=\"XJxkvslvS0[SC:{2!HJ0\">VELOCIDADE_CURVA</variable><variable id=\"S6Dn$iYCP:_}OR,`g;YY\">COR_PARADO</variable><variable id=\"^eYe*y.(JI!dn)0eW)-;\">RADIO_GROUP</variable><variable id=\"[yTc/P3M($:0B#7LUAk(\">BRILHO_LEDS</variable><variable id=\"7nu11+ojnEWzS]tt1)sa\">RGB_INICIAL</variable><variable id=\"=p(qQ_C7@89Q_vDdEL6L\">RGB_FRENTE</variable><variable id=\"Y@~l/m]mNa_.@EG}(dBW\">RGB_TRAS</variable><variable id=\"e1yFG1H=Wr2,M6NJLF8(\">RGB_CURVA</variable><variable id=\"eYq.Esh/02Ql7lY49!j4\">RGB_PARADO</variable><variable id=\"R(j{KjW~(1l]1,Fs)u*O\">brilho_calculado</variable><variable id=\")%vji*67|O9~qGxKf87v\">COR_INICIAL</variable></variables><block type=\"pxt-on-start\" x=\"20\" y=\"20\"><statement name=\"HANDLER\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let ANGULO_SERVO = 0\" numlines=\"1\" declaredvars=\"ANGULO_SERVO\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"^eYe*y.(JI!dn)0eW)-;\">RADIO_GROUP</field><comment pinned=\"false\" h=\"80\" w=\"160\">==============================================================================\n--- CONFIGURAÇÕES PERSONALIZÁVEIS ---\n==============================================================================\n--- GERAL ---</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"X,Q@j[H_t/?o8EtGl1ns\">CMD_FORWARD</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">F</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"$gHvdtcIj_E[KKwK$m[F\">CMD_BACKWARD</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">B</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"KZZU}#nsP362E=Qc0KZ0\">CMD_LEFT</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">E</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"/@H}+d*xe}Ig#4#}XgEM\">CMD_RIGHT</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">D</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"e{T;mauHqd$`U{jV-Ojw\">CMD_STOP</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">S</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"MU8zFCbnz63IGtD[dS},\">VELOCIDADE_FRENTE</field><comment pinned=\"false\" h=\"80\" w=\"160\">--- MOTORES ---</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">255</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"XJxkvslvS0[SC:{2!HJ0\">VELOCIDADE_CURVA</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let PORTA_SERVO = robotbit.Servos.S1\" numlines=\"1\" declaredvars=\"PORTA_SERVO\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"[yTc/P3M($:0B#7LUAk(\">BRILHO_LEDS</field><comment pinned=\"false\" h=\"80\" w=\"160\">--- LEDS RGB (NEOPIXEL) ---</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0.5</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"7nu11+ojnEWzS]tt1)sa\">RGB_INICIAL</field><comment pinned=\"false\" h=\"80\" w=\"160\">Valor de 0.0 (apagado) a 1.0 (máximo)\nCores em formato (R, G, B)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\"><mutation items=\"3\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"math_number\"><field name=\"NUM\">128</field></shadow></value><value name=\"ADD1\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"ADD2\"><shadow type=\"math_number\"><field name=\"NUM\">128</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"=p(qQ_C7@89Q_vDdEL6L\">RGB_FRENTE</field><comment pinned=\"false\" h=\"80\" w=\"160\">Roxo</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\"><mutation items=\"3\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"ADD1\"><shadow type=\"math_number\"><field name=\"NUM\">255</field></shadow></value><value name=\"ADD2\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Y@~l/m]mNa_.@EG}(dBW\">RGB_TRAS</field><comment pinned=\"false\" h=\"80\" w=\"160\">Verde</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\"><mutation items=\"3\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"math_number\"><field name=\"NUM\">255</field></shadow></value><value name=\"ADD1\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"ADD2\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"e1yFG1H=Wr2,M6NJLF8(\">RGB_CURVA</field><comment pinned=\"false\" h=\"80\" w=\"160\">Vermelho</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\"><mutation items=\"3\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"ADD1\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"ADD2\"><shadow type=\"math_number\"><field name=\"NUM\">255</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"eYq.Esh/02Ql7lY49!j4\">RGB_PARADO</field><comment pinned=\"false\" h=\"80\" w=\"160\">Azul</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\"><mutation items=\"3\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"ADD1\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"ADD2\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"SZaCZT(6KdcIK,#_C0i#\">strip</field><comment pinned=\"false\" h=\"80\" w=\"160\">Apagado\n==============================================================================\n--- INICIALIZAÇÃO E LÓGICA PRINCIPAL ---\n==============================================================================\n1. Inicialização do NeoPixel  &lt;- MUDANÇA\nCriamos o objeto 'strip' para controlar 4 LEDs RGB no Pino 16.</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"neopixel_create\"><field name=\"pin\">DigitalPin.P16</field><field name=\"mode\">NeoPixelMode.RGB</field><value name=\"numleds\"><shadow type=\"math_number\"><field name=\"NUM\">4</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"R(j{KjW~(1l]1,Fs)u*O\">brilho_calculado</field><comment pinned=\"false\" h=\"80\" w=\"160\">2. Configuração de Brilho  &lt;- MUDANÇA\nA biblioteca neopixel usa valores de 0 a 255 para o brilho.\nConvertemos nosso valor de 0.0-1.0 para essa escala.</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_js_round\"><field name=\"OP\">trunc</field><value name=\"ARG0\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"[yTc/P3M($:0B#7LUAk(\">BRILHO_LEDS</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">255</field></shadow></value></block></value></block></value><next><block type=\"neopixel_set_brightness\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"SZaCZT(6KdcIK,#_C0i#\">strip</field></block></value><value name=\"brightness\"><block type=\"variables_get\"><field name=\"VAR\" id=\"R(j{KjW~(1l]1,Fs)u*O\">brilho_calculado</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\")%vji*67|O9~qGxKf87v\">COR_INICIAL</field><comment pinned=\"false\" h=\"80\" w=\"160\">3. Preparação das Cores  &lt;- MUDANÇA\nUsamos neopixel.rgb() para criar os valores de cor que o 'strip' entende.</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"neopixel_rgb\"><value name=\"red\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"7nu11+ojnEWzS]tt1)sa\">RGB_INICIAL</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"green\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"7nu11+ojnEWzS]tt1)sa\">RGB_INICIAL</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><value name=\"blue\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"7nu11+ojnEWzS]tt1)sa\">RGB_INICIAL</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Q=Sv(XL66=dyN.w=950t\">COR_FRENTE</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"neopixel_rgb\"><value name=\"red\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"=p(qQ_C7@89Q_vDdEL6L\">RGB_FRENTE</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"green\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"=p(qQ_C7@89Q_vDdEL6L\">RGB_FRENTE</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><value name=\"blue\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"=p(qQ_C7@89Q_vDdEL6L\">RGB_FRENTE</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"V9j*3da!fG~uq)24]:?[\">COR_TRAS</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"neopixel_rgb\"><value name=\"red\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"Y@~l/m]mNa_.@EG}(dBW\">RGB_TRAS</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"green\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"Y@~l/m]mNa_.@EG}(dBW\">RGB_TRAS</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><value name=\"blue\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"Y@~l/m]mNa_.@EG}(dBW\">RGB_TRAS</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"k$NQj^sES/k;|7Kss6??\">COR_CURVA</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"neopixel_rgb\"><value name=\"red\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"e1yFG1H=Wr2,M6NJLF8(\">RGB_CURVA</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"green\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"e1yFG1H=Wr2,M6NJLF8(\">RGB_CURVA</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><value name=\"blue\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"e1yFG1H=Wr2,M6NJLF8(\">RGB_CURVA</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"S6Dn$iYCP:_}OR,`g;YY\">COR_PARADO</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"neopixel_rgb\"><value name=\"red\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"eYq.Esh/02Ql7lY49!j4\">RGB_PARADO</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"green\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"eYq.Esh/02Ql7lY49!j4\">RGB_PARADO</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><value name=\"blue\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"eYq.Esh/02Ql7lY49!j4\">RGB_PARADO</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value></block></value><next><block type=\"radio_set_group\"><comment pinned=\"false\" h=\"80\" w=\"160\">Configuração inicial</comment><value name=\"ID\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"^eYe*y.(JI!dn)0eW)-;\">RADIO_GROUP</field></block></value><next><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Silly</field><next><block type=\"neopixel_set_strip_color\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"SZaCZT(6KdcIK,#_C0i#\">strip</field></block></value><value name=\"rgb\"><shadow type=\"neopixel_colors\"><field name=\"color\">NeoPixelColors.Red</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\")%vji*67|O9~qGxKf87v\">COR_INICIAL</field></block></value><next><block type=\"device_pause\"><comment pinned=\"false\" h=\"80\" w=\"160\">&lt;- MUDANÇA</comment><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">500</field></shadow></value><next><block type=\"neopixel_set_strip_color\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"SZaCZT(6KdcIK,#_C0i#\">strip</field></block></value><value name=\"rgb\"><shadow type=\"neopixel_colors\"><field name=\"color\">NeoPixelColors.Red</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"S6Dn$iYCP:_}OR,`g;YY\">COR_PARADO</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"device_gesture_event\" x=\"1574\" y=\"20\"><field name=\"NAME\">Gesture.TiltLeft</field><statement name=\"HANDLER\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"robotbit.Servo(PORTA_SERVO, ANGULO_SERVO)\" numlines=\"1\"></mutation></block></statement></block><block type=\"input_logo_event\" x=\"2011\" y=\"20\"><field name=\"action\">TouchButtonEvent.Pressed</field><statement name=\"HANDLER\"><block type=\"robotbit_stop_all\"><next><block type=\"neopixel_set_strip_color\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"SZaCZT(6KdcIK,#_C0i#\">strip</field></block></value><value name=\"rgb\"><shadow type=\"neopixel_colors\"><field name=\"color\">NeoPixelColors.Red</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"S6Dn$iYCP:_}OR,`g;YY\">COR_PARADO</field></block></value><next><block type=\"robotbit_matrix_draw\"><comment pinned=\"false\" h=\"80\" w=\"160\">&lt;- MUDANÇA</comment><value name=\"x\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"y\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"basic_show_icon\"><field name=\"i\">IconNames.No</field></block></next></block></next></block></next></block></statement></block><block type=\"radio_on_string_drag\" x=\"2452\" y=\"20\"><value name=\"HANDLER_DRAG_PARAM_receivedString\"><block type=\"argument_reporter_string\" deletable=\"false\"><field name=\"VALUE\">receivedString</field></block></value><statement name=\"HANDLER\"><block type=\"controls_if\"><mutation elseif=\"4\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">receivedString</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"X,Q@j[H_t/?o8EtGl1ns\">CMD_FORWARD</field></block></value></block></value><statement name=\"DO0\"><block type=\"basic_show_arrow\"><value name=\"i\"><shadow type=\"device_arrow\"><field name=\"arrow\">ArrowNames.North</field></shadow></value><next><block type=\"neopixel_set_strip_color\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"SZaCZT(6KdcIK,#_C0i#\">strip</field></block></value><value name=\"rgb\"><shadow type=\"neopixel_colors\"><field name=\"color\">NeoPixelColors.Red</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Q=Sv(XL66=dyN.w=950t\">COR_FRENTE</field></block></value><next><block type=\"robotbit_motor_dual\"><field name=\"motor1\">robotbit.Motors.M1A</field><field name=\"motor2\">robotbit.Motors.M2A</field><comment pinned=\"false\" h=\"80\" w=\"160\">&lt;- MUDANÇA</comment><value name=\"speed1\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"MU8zFCbnz63IGtD[dS},\">VELOCIDADE_FRENTE</field></block></value><value name=\"speed2\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"MU8zFCbnz63IGtD[dS},\">VELOCIDADE_FRENTE</field></block></value></block></next></block></next></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">receivedString</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"$gHvdtcIj_E[KKwK$m[F\">CMD_BACKWARD</field></block></value></block></value><statement name=\"DO1\"><block type=\"basic_show_arrow\"><value name=\"i\"><shadow type=\"device_arrow\"><field name=\"arrow\">ArrowNames.South</field></shadow></value><next><block type=\"neopixel_set_strip_color\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"SZaCZT(6KdcIK,#_C0i#\">strip</field></block></value><value name=\"rgb\"><shadow type=\"neopixel_colors\"><field name=\"color\">NeoPixelColors.Red</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"V9j*3da!fG~uq)24]:?[\">COR_TRAS</field></block></value><next><block type=\"robotbit_motor_dual\"><field name=\"motor1\">robotbit.Motors.M1A</field><field name=\"motor2\">robotbit.Motors.M2A</field><comment pinned=\"false\" h=\"80\" w=\"160\">&lt;- MUDANÇA</comment><value name=\"speed1\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"MU8zFCbnz63IGtD[dS},\">VELOCIDADE_FRENTE</field></block></value></block></value><value name=\"speed2\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"MU8zFCbnz63IGtD[dS},\">VELOCIDADE_FRENTE</field></block></value></block></value></block></next></block></next></block></statement><value name=\"IF2\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">receivedString</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"KZZU}#nsP362E=Qc0KZ0\">CMD_LEFT</field></block></value></block></value><statement name=\"DO2\"><block type=\"basic_show_arrow\"><value name=\"i\"><shadow type=\"device_arrow\"><field name=\"arrow\">ArrowNames.West</field></shadow></value><next><block type=\"neopixel_set_strip_color\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"SZaCZT(6KdcIK,#_C0i#\">strip</field></block></value><value name=\"rgb\"><shadow type=\"neopixel_colors\"><field name=\"color\">NeoPixelColors.Red</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"k$NQj^sES/k;|7Kss6??\">COR_CURVA</field></block></value><next><block type=\"robotbit_motor_dual\"><field name=\"motor1\">robotbit.Motors.M1A</field><field name=\"motor2\">robotbit.Motors.M2A</field><comment pinned=\"false\" h=\"80\" w=\"160\">&lt;- MUDANÇA</comment><value name=\"speed1\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"XJxkvslvS0[SC:{2!HJ0\">VELOCIDADE_CURVA</field></block></value></block></value><value name=\"speed2\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"XJxkvslvS0[SC:{2!HJ0\">VELOCIDADE_CURVA</field></block></value></block></next></block></next></block></statement><value name=\"IF3\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">receivedString</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"/@H}+d*xe}Ig#4#}XgEM\">CMD_RIGHT</field></block></value></block></value><statement name=\"DO3\"><block type=\"basic_show_arrow\"><value name=\"i\"><shadow type=\"device_arrow\"><field name=\"arrow\">ArrowNames.East</field></shadow></value><next><block type=\"neopixel_set_strip_color\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"SZaCZT(6KdcIK,#_C0i#\">strip</field></block></value><value name=\"rgb\"><shadow type=\"neopixel_colors\"><field name=\"color\">NeoPixelColors.Red</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"k$NQj^sES/k;|7Kss6??\">COR_CURVA</field></block></value><next><block type=\"robotbit_motor_dual\"><field name=\"motor1\">robotbit.Motors.M1A</field><field name=\"motor2\">robotbit.Motors.M2A</field><comment pinned=\"false\" h=\"80\" w=\"160\">&lt;- MUDANÇA</comment><value name=\"speed1\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"XJxkvslvS0[SC:{2!HJ0\">VELOCIDADE_CURVA</field></block></value><value name=\"speed2\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"XJxkvslvS0[SC:{2!HJ0\">VELOCIDADE_CURVA</field></block></value></block></value></block></next></block></next></block></statement><value name=\"IF4\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">receivedString</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"e{T;mauHqd$`U{jV-Ojw\">CMD_STOP</field></block></value></block></value><statement name=\"DO4\"><block type=\"robotbit_stop_all\"><next><block type=\"neopixel_set_strip_color\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"SZaCZT(6KdcIK,#_C0i#\">strip</field></block></value><value name=\"rgb\"><shadow type=\"neopixel_colors\"><field name=\"color\">NeoPixelColors.Red</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"S6Dn$iYCP:_}OR,`g;YY\">COR_PARADO</field></block></value><next><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Asleep</field><comment pinned=\"false\" h=\"80\" w=\"160\">&lt;- MUDANÇA</comment></block></next></block></next></block></statement></block></statement></block></xml>"]]}]}]},{"timestamp":1758422377717,"editorVersion":"8.0.16","changes":[{"type":"edited","filename":"pxt.json","patch":[{"start1":385,"length1":44,"diffs":[[1,""]]}]},{"type":"added","filename":"test.ts","value":"// testes vão aqui; isto não será compilado quando este pacote for usado como uma extensão.\n"}]}],"snapshots":[{"timestamp":1756313119200,"editorVersion":"8.0.16","text":{"main.blocks":"<xml xmlns=\"http://www.w3.org/1999/xhtml\">\n  <block type=\"pxt-on-start\"></block>\n  <block type=\"device_forever\"></block>\n</xml>","main.ts":"\n","README.md":"","pxt.json":"{\n    \"name\": \"Sem título\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\"\n    ],\n    \"additionalFilePaths\": []\n}\n"}},{"timestamp":1756316985821,"editorVersion":"8.0.16","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"[ob8G{;1_SR*UiGzaf|h\">comando</variable><variable id=\"-y,}1(2)siF9nE.qNW3D\">tipo_comando</variable><variable id=\")o,/=.OQBL,t+~+4wX{`\">valor_str</variable><variable id=\"5*)3GsprEv]Yxl=r1=-M\">valor_num</variable></variables><block type=\"device_forever\" x=\"57\" y=\"1\"></block><block type=\"pxt-on-start\" x=\"333\" y=\"2\"><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"5*)3GsprEv]Yxl=r1=-M\">valor_num</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"radio_set_group\"><value name=\"ID\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" label=\"Id\" precision=\"0\"></mutation><field name=\"SLIDER\">1</field></shadow></value><next><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Silly</field></block></next></block></next></block></statement></block><block type=\"device_button_event\" x=\"109\" y=\"323\"><field name=\"NAME\">Button.A</field><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"5*)3GsprEv]Yxl=r1=-M\">valor_num</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">255</field></shadow></value><next><block type=\"basic_show_arrow\"><value name=\"i\"><shadow type=\"device_arrow\"><field name=\"arrow\">ArrowNames.North</field></shadow></value><next><block type=\"robotbit_motor_dual\"><field name=\"motor1\">robotbit.Motors.M1A</field><field name=\"motor2\">robotbit.Motors.M2A</field><value name=\"speed1\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" label=\"Speed1\" precision=\"0\"></mutation><field name=\"SLIDER\">150</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"5*)3GsprEv]Yxl=r1=-M\">valor_num</field></block></value><value name=\"speed2\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" label=\"Speed2\" precision=\"0\"></mutation><field name=\"SLIDER\">150</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"5*)3GsprEv]Yxl=r1=-M\">valor_num</field></block></value></block></next></block></next></block></statement></block><block type=\"device_button_event\" x=\"456\" y=\"311\"><field name=\"NAME\">Button.B</field><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"5*)3GsprEv]Yxl=r1=-M\">valor_num</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">-255</field></shadow></value><next><block type=\"basic_show_arrow\"><value name=\"i\"><shadow type=\"device_arrow\"><field name=\"arrow\">ArrowNames.South</field></shadow></value><next><block type=\"robotbit_motor_dual\"><field name=\"motor1\">robotbit.Motors.M1A</field><field name=\"motor2\">robotbit.Motors.M2A</field><value name=\"speed1\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" label=\"Speed1\" precision=\"0\"></mutation><field name=\"SLIDER\">150</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"5*)3GsprEv]Yxl=r1=-M\">valor_num</field></block></value><value name=\"speed2\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" label=\"Speed2\" precision=\"0\"></mutation><field name=\"SLIDER\">150</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"5*)3GsprEv]Yxl=r1=-M\">valor_num</field></block></value></block></next></block></next></block></statement></block><block type=\"input_logo_event\" x=\"881\" y=\"310\"><field name=\"action\">TouchButtonEvent.Pressed</field><statement name=\"HANDLER\"><block type=\"variables_change\"><field name=\"VAR\" id=\"5*)3GsprEv]Yxl=r1=-M\">valor_num</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"basic_show_icon\"><field name=\"i\">IconNames.No</field><next><block type=\"robotbit_motor_dual\"><field name=\"motor1\">robotbit.Motors.M1A</field><field name=\"motor2\">robotbit.Motors.M2A</field><value name=\"speed1\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" label=\"Speed1\" precision=\"0\"></mutation><field name=\"SLIDER\">150</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"5*)3GsprEv]Yxl=r1=-M\">valor_num</field></block></value><value name=\"speed2\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" label=\"Speed2\" precision=\"0\"></mutation><field name=\"SLIDER\">150</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"5*)3GsprEv]Yxl=r1=-M\">valor_num</field></block></value></block></next></block></next></block></statement></block></xml>","main.ts":"","README.md":"","pxt.json":"{\n    \"name\": \"Sem título\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\",\n        \"robotbit\": \"github:kittenbot/pxt-robotbit#v0.4.8\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\"\n    ],\n    \"preferredEditor\": \"blocksprj\"\n}\n"}},{"timestamp":1756934507899,"editorVersion":"8.0.16","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"[ob8G{;1_SR*UiGzaf|h\">comando</variable><variable id=\"-y,}1(2)siF9nE.qNW3D\">tipo_comando</variable><variable id=\")o,/=.OQBL,t+~+4wX{`\">valor_str</variable><variable id=\"5*)3GsprEv]Yxl=r1=-M\">valor_num</variable></variables><block type=\"pxt-on-start\" x=\"0\" y=\"0\"><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"5*)3GsprEv]Yxl=r1=-M\">valor_num</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"radio_set_group\"><value name=\"ID\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" label=\"Id\" precision=\"0\"></mutation><field name=\"SLIDER\">1</field></shadow></value><next><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Silly</field></block></next></block></next></block></statement></block><block type=\"device_button_event\" x=\"515\" y=\"4\"><field name=\"NAME\">Button.A</field><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"5*)3GsprEv]Yxl=r1=-M\">valor_num</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">255</field></shadow></value><next><block type=\"basic_show_arrow\"><value name=\"i\"><shadow type=\"device_arrow\"><field name=\"arrow\">ArrowNames.North</field></shadow></value><next><block type=\"robotbit_motor_dual\"><field name=\"motor1\">robotbit.Motors.M1A</field><field name=\"motor2\">robotbit.Motors.M2A</field><value name=\"speed1\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" label=\"Speed1\" precision=\"0\"></mutation><field name=\"SLIDER\">150</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"5*)3GsprEv]Yxl=r1=-M\">valor_num</field></block></value><value name=\"speed2\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" label=\"Speed2\" precision=\"0\"></mutation><field name=\"SLIDER\">150</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"5*)3GsprEv]Yxl=r1=-M\">valor_num</field></block></value></block></next></block></next></block></statement></block><block type=\"device_button_event\" x=\"836\" y=\"4\"><field name=\"NAME\">Button.B</field><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"5*)3GsprEv]Yxl=r1=-M\">valor_num</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">-255</field></shadow></value><next><block type=\"basic_show_arrow\"><value name=\"i\"><shadow type=\"device_arrow\"><field name=\"arrow\">ArrowNames.South</field></shadow></value><next><block type=\"robotbit_motor_dual\"><field name=\"motor1\">robotbit.Motors.M1A</field><field name=\"motor2\">robotbit.Motors.M2A</field><value name=\"speed1\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" label=\"Speed1\" precision=\"0\"></mutation><field name=\"SLIDER\">150</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"5*)3GsprEv]Yxl=r1=-M\">valor_num</field></block></value><value name=\"speed2\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" label=\"Speed2\" precision=\"0\"></mutation><field name=\"SLIDER\">150</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"5*)3GsprEv]Yxl=r1=-M\">valor_num</field></block></value></block></next></block></next></block></statement></block><block type=\"input_logo_event\" x=\"1191\" y=\"5\"><field name=\"action\">TouchButtonEvent.Pressed</field><statement name=\"HANDLER\"><block type=\"robotbit_stop_all\"><next><block type=\"robotbit_matrix_draw\"><value name=\"x\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"y\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"basic_show_icon\"><field name=\"i\">IconNames.No</field></block></next></block></next></block></statement></block><block type=\"device_gesture_event\" x=\"515\" y=\"629\"><field name=\"NAME\">Gesture.TiltLeft</field><statement name=\"HANDLER\"><block type=\"robotbit_servo\"><field name=\"index\">robotbit.Servos.S1</field><value name=\"degree\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"180\" label=\"Degree\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value></block></statement></block></xml>","main.ts":"","README.md":"","main.py":"\\# ==============================================================================\n# --- CONFIGURAÇÕES PERSONALIZÁVEIS ---\n# Altere os valores aqui para customizar seu robô.\n# ==============================================================================\n\n# --- GERAL ---\n# GRUPO DO RÁDIO: Deve ser o mesmo número do controle remoto (de 0 a 255).\nRADIO_GROUP = 1\n# COMANDOS DE TEXTO: Devem ser os mesmos definidos no controle remoto!\nCMD_FORWARD = \"F\"\nCMD_BACKWARD = \"B\"\nCMD_LEFT = \"E\"\nCMD_RIGHT = \"D\"\nCMD_STOP = \"S\"\n\n# --- MOTORES ---\n# VELOCIDADE: Defina a velocidade dos motores (de 0 a 255).\n# 255 é a velocidade máxima.\nVELOCIDADE_FRENTE = 255\nVELOCIDADE_CURVA = 200 # Usar uma velocidade menor nas curvas pode dar mais controle.\n\n# --- SERVO ---\n# ÂNGULO: Defina a posição do servo quando a placa é inclinada (de 0 a 180).\nPORTA_SERVO = robotbit.Servos.S1\nANGULO_SERVO = 0\n\n# --- LEDS RGB (NEOPIXEL) ---\n# BRILHO: Defina o brilho geral dos LEDs (de 0.0 a 1.0).\n# 1.0 é brilho máximo, 0.1 é bem fraco.\nBRILHO_LEDS = 0.5\n\n# CORES: Defina as cores para cada ação em formato (R, G, B).\n# Cada valor (R, G, B) pode ir de 0 a 255.\nRGB_INICIAL = (128, 0, 128) # Roxo\nRGB_FRENTE = (0, 255, 0) # Verde\nRGB_TRAS = (255, 0, 0) # Vermelho\nRGB_CURVA = (0, 0, 255) # Azul\nRGB_PARADO = (0, 0, 0) # Apagado (Preto)\n\n# ==============================================================================\n# --- FUNÇÕES E LÓGICA PRINCIPAL ---\n# Não é necessário alterar o código abaixo desta linha.\n# ==============================================================================\n\n# Função auxiliar para aplicar o brilho à cor\ndef criar_cor_com_brilho(r, g, b, brilho):\n    r = int(r * brilho)\n    g = int(g * brilho)\n    b = int(b * brilho)\n    return robotbit.rgb_color(r, g, b)\n\n# Pré-calcula as cores com o brilho definido\nCOR_INICIAL = criar_cor_com_brilho(RGB_INICIAL[0], RGB_INICIAL[1], RGB_INICIAL[2], BRILHO_LEDS)\nCOR_FRENTE = criar_cor_com_brilho(RGB_FRENTE[0], RGB_FRENTE[1], RGB_FRENTE[2], BRILHO_LEDS)\nCOR_TRAS = criar_cor_com_brilho(RGB_TRAS[0], RGB_TRAS[1], RGB_TRAS[2], BRILHO_LEDS)\nCOR_CURVA = criar_cor_com_brilho(RGB_CURVA[0], RGB_CURVA[1], RGB_CURVA[2], BRILHO_LEDS)\nCOR_PARADO = criar_cor_com_brilho(RGB_PARADO[0], RGB_PARADO[1], RGB_PARADO[2], BRILHO_LEDS)\n\ndef on_radio_received(receivedString):\n    if receivedString == CMD_FORWARD:\n        basic.show_arrow(ArrowNames.NORTH)\n        robotbit.rgb_show_all(COR_FRENTE)\n        robotbit.motor_run_dual(robotbit.Motors.M1A, VELOCIDADE_FRENTE, robotbit.Motors.M2A, VELOCIDADE_FRENTE)\n    elif receivedString == CMD_BACKWARD:\n        basic.show_arrow(ArrowNames.SOUTH)\n        robotbit.rgb_show_all(COR_TRAS)\n        robotbit.motor_run_dual(robotbit.Motors.M1A, -VELOCIDADE_FRENTE, robotbit.Motors.M2A, -VELOCIDADE_FRENTE)\n    elif receivedString == CMD_LEFT:\n        basic.show_arrow(ArrowNames.WEST)\n        robotbit.rgb_show_all(COR_CURVA)\n        robotbit.motor_run_dual(robotbit.Motors.M1A, -VELOCIDADE_CURVA, robotbit.Motors.M2A, VELOCIDADE_CURVA)\n    elif receivedString == CMD_RIGHT:\n        basic.show_arrow(ArrowNames.EAST)\n        robotbit.rgb_show_all(COR_CURVA)\n        robotbit.motor_run_dual(robotbit.Motors.M1A, VELOCIDADE_CURVA, robotbit.Motors.M2A, -VELOCIDADE_CURVA)\n    elif receivedString == CMD_STOP:\n        robotbit.motor_stop_all()\n        robotbit.rgb_show_all(COR_PARADO)\n        basic.show_icon(IconNames.ASLEEP)\nradio.on_received_string(on_radio_received)\n\ndef on_logo_pressed():\n    robotbit.motor_stop_all()\n    robotbit.rgb_show_all(COR_PARADO)\n    robotbit.matrix_draw(0, 0)\n    basic.show_icon(IconNames.NO)\ninput.on_logo_event(TouchButtonEvent.PRESSED, on_logo_pressed)\n\ndef on_gesture_tilt_left():\n    robotbit.servo(PORTA_SERVO, ANGULO_SERVO)\ninput.on_gesture(Gesture.TILT_LEFT, on_gesture_tilt_left)\n\n# Configuração inicial\nradio.set_group(RADIO_GROUP)\nbasic.show_icon(IconNames.SILLY)\nrobotbit.rgb_show_all(COR_INICIAL)\nbasic.pause(500)\nrobotbit.rgb_show_all(COR_PARADO)","pxt.json":"{\n    \"name\": \"rc\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\",\n        \"robotbit\": \"github:kittenbot/pxt-robotbit#v0.4.8\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"main.py\"\n    ],\n    \"preferredEditor\": \"pyprj\"\n}\n"}},{"timestamp":1757525775028,"editorVersion":"8.0.16","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"X,Q@j[H_t/?o8EtGl1ns\">CMD_FORWARD</variable><variable id=\"$gHvdtcIj_E[KKwK$m[F\">CMD_BACKWARD</variable><variable id=\"KZZU}#nsP362E=Qc0KZ0\">CMD_LEFT</variable><variable id=\"/@H}+d*xe}Ig#4#}XgEM\">CMD_RIGHT</variable><variable id=\"e{T;mauHqd$`U{jV-Ojw\">CMD_STOP</variable><variable id=\"SZaCZT(6KdcIK,#_C0i#\">strip</variable><variable id=\"Q=Sv(XL66=dyN.w=950t\">COR_FRENTE</variable><variable id=\"MU8zFCbnz63IGtD[dS},\">VELOCIDADE_FRENTE</variable><variable id=\"V9j*3da!fG~uq)24]:?[\">COR_TRAS</variable><variable id=\"k$NQj^sES/k;|7Kss6??\">COR_CURVA</variable><variable id=\"XJxkvslvS0[SC:{2!HJ0\">VELOCIDADE_CURVA</variable><variable id=\"S6Dn$iYCP:_}OR,`g;YY\">COR_PARADO</variable><variable id=\"^eYe*y.(JI!dn)0eW)-;\">RADIO_GROUP</variable><variable id=\"[yTc/P3M($:0B#7LUAk(\">BRILHO_LEDS</variable><variable id=\"7nu11+ojnEWzS]tt1)sa\">RGB_INICIAL</variable><variable id=\"=p(qQ_C7@89Q_vDdEL6L\">RGB_FRENTE</variable><variable id=\"Y@~l/m]mNa_.@EG}(dBW\">RGB_TRAS</variable><variable id=\"e1yFG1H=Wr2,M6NJLF8(\">RGB_CURVA</variable><variable id=\"eYq.Esh/02Ql7lY49!j4\">RGB_PARADO</variable><variable id=\"R(j{KjW~(1l]1,Fs)u*O\">brilho_calculado</variable><variable id=\")%vji*67|O9~qGxKf87v\">COR_INICIAL</variable></variables><block type=\"pxt-on-start\" x=\"20\" y=\"20\"><statement name=\"HANDLER\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let ANGULO_SERVO = 0\" numlines=\"1\" declaredvars=\"ANGULO_SERVO\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"^eYe*y.(JI!dn)0eW)-;\">RADIO_GROUP</field><comment pinned=\"false\" h=\"80\" w=\"160\">==============================================================================\n--- CONFIGURAÇÕES PERSONALIZÁVEIS ---\n==============================================================================\n--- GERAL ---</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"X,Q@j[H_t/?o8EtGl1ns\">CMD_FORWARD</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">F</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"$gHvdtcIj_E[KKwK$m[F\">CMD_BACKWARD</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">B</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"KZZU}#nsP362E=Qc0KZ0\">CMD_LEFT</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">E</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"/@H}+d*xe}Ig#4#}XgEM\">CMD_RIGHT</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">D</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"e{T;mauHqd$`U{jV-Ojw\">CMD_STOP</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">S</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"MU8zFCbnz63IGtD[dS},\">VELOCIDADE_FRENTE</field><comment pinned=\"false\" h=\"80\" w=\"160\">--- MOTORES ---</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">255</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"XJxkvslvS0[SC:{2!HJ0\">VELOCIDADE_CURVA</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let PORTA_SERVO = robotbit.Servos.S1\" numlines=\"1\" declaredvars=\"PORTA_SERVO\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"[yTc/P3M($:0B#7LUAk(\">BRILHO_LEDS</field><comment pinned=\"false\" h=\"80\" w=\"160\">--- LEDS RGB (NEOPIXEL) ---</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0.5</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"7nu11+ojnEWzS]tt1)sa\">RGB_INICIAL</field><comment pinned=\"false\" h=\"80\" w=\"160\">Valor de 0.0 (apagado) a 1.0 (máximo)\nCores em formato (R, G, B)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\"><mutation items=\"3\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"math_number\"><field name=\"NUM\">128</field></shadow></value><value name=\"ADD1\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"ADD2\"><shadow type=\"math_number\"><field name=\"NUM\">128</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"=p(qQ_C7@89Q_vDdEL6L\">RGB_FRENTE</field><comment pinned=\"false\" h=\"80\" w=\"160\">Roxo</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\"><mutation items=\"3\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"ADD1\"><shadow type=\"math_number\"><field name=\"NUM\">255</field></shadow></value><value name=\"ADD2\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Y@~l/m]mNa_.@EG}(dBW\">RGB_TRAS</field><comment pinned=\"false\" h=\"80\" w=\"160\">Verde</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\"><mutation items=\"3\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"math_number\"><field name=\"NUM\">255</field></shadow></value><value name=\"ADD1\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"ADD2\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"e1yFG1H=Wr2,M6NJLF8(\">RGB_CURVA</field><comment pinned=\"false\" h=\"80\" w=\"160\">Vermelho</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\"><mutation items=\"3\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"ADD1\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"ADD2\"><shadow type=\"math_number\"><field name=\"NUM\">255</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"eYq.Esh/02Ql7lY49!j4\">RGB_PARADO</field><comment pinned=\"false\" h=\"80\" w=\"160\">Azul</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\"><mutation items=\"3\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"ADD1\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"ADD2\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"SZaCZT(6KdcIK,#_C0i#\">strip</field><comment pinned=\"false\" h=\"80\" w=\"160\">Apagado\n==============================================================================\n--- INICIALIZAÇÃO E LÓGICA PRINCIPAL ---\n==============================================================================\n1. Inicialização do NeoPixel  &lt;- MUDANÇA\nCriamos o objeto 'strip' para controlar 4 LEDs RGB no Pino 16.</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"neopixel_create\"><field name=\"pin\">DigitalPin.P16</field><field name=\"mode\">NeoPixelMode.RGB</field><value name=\"numleds\"><shadow type=\"math_number\"><field name=\"NUM\">4</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"R(j{KjW~(1l]1,Fs)u*O\">brilho_calculado</field><comment pinned=\"false\" h=\"80\" w=\"160\">2. Configuração de Brilho  &lt;- MUDANÇA\nA biblioteca neopixel usa valores de 0 a 255 para o brilho.\nConvertemos nosso valor de 0.0-1.0 para essa escala.</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_js_round\"><field name=\"OP\">trunc</field><value name=\"ARG0\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"[yTc/P3M($:0B#7LUAk(\">BRILHO_LEDS</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">255</field></shadow></value></block></value></block></value><next><block type=\"neopixel_set_brightness\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"SZaCZT(6KdcIK,#_C0i#\">strip</field></block></value><value name=\"brightness\"><block type=\"variables_get\"><field name=\"VAR\" id=\"R(j{KjW~(1l]1,Fs)u*O\">brilho_calculado</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\")%vji*67|O9~qGxKf87v\">COR_INICIAL</field><comment pinned=\"false\" h=\"80\" w=\"160\">3. Preparação das Cores  &lt;- MUDANÇA\nUsamos neopixel.rgb() para criar os valores de cor que o 'strip' entende.</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"neopixel_rgb\"><value name=\"red\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"7nu11+ojnEWzS]tt1)sa\">RGB_INICIAL</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"green\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"7nu11+ojnEWzS]tt1)sa\">RGB_INICIAL</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><value name=\"blue\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"7nu11+ojnEWzS]tt1)sa\">RGB_INICIAL</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Q=Sv(XL66=dyN.w=950t\">COR_FRENTE</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"neopixel_rgb\"><value name=\"red\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"=p(qQ_C7@89Q_vDdEL6L\">RGB_FRENTE</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"green\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"=p(qQ_C7@89Q_vDdEL6L\">RGB_FRENTE</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><value name=\"blue\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"=p(qQ_C7@89Q_vDdEL6L\">RGB_FRENTE</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"V9j*3da!fG~uq)24]:?[\">COR_TRAS</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"neopixel_rgb\"><value name=\"red\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"Y@~l/m]mNa_.@EG}(dBW\">RGB_TRAS</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"green\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"Y@~l/m]mNa_.@EG}(dBW\">RGB_TRAS</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><value name=\"blue\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"Y@~l/m]mNa_.@EG}(dBW\">RGB_TRAS</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"k$NQj^sES/k;|7Kss6??\">COR_CURVA</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"neopixel_rgb\"><value name=\"red\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"e1yFG1H=Wr2,M6NJLF8(\">RGB_CURVA</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"green\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"e1yFG1H=Wr2,M6NJLF8(\">RGB_CURVA</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><value name=\"blue\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"e1yFG1H=Wr2,M6NJLF8(\">RGB_CURVA</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"S6Dn$iYCP:_}OR,`g;YY\">COR_PARADO</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"neopixel_rgb\"><value name=\"red\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"eYq.Esh/02Ql7lY49!j4\">RGB_PARADO</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"green\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"eYq.Esh/02Ql7lY49!j4\">RGB_PARADO</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><value name=\"blue\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"eYq.Esh/02Ql7lY49!j4\">RGB_PARADO</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value></block></value><next><block type=\"radio_set_group\"><comment pinned=\"false\" h=\"80\" w=\"160\">Configuração inicial</comment><value name=\"ID\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"^eYe*y.(JI!dn)0eW)-;\">RADIO_GROUP</field></block></value><next><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Silly</field><next><block type=\"neopixel_set_strip_color\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"SZaCZT(6KdcIK,#_C0i#\">strip</field></block></value><value name=\"rgb\"><shadow type=\"neopixel_colors\"><field name=\"color\">NeoPixelColors.Red</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\")%vji*67|O9~qGxKf87v\">COR_INICIAL</field></block></value><next><block type=\"device_pause\"><comment pinned=\"false\" h=\"80\" w=\"160\">&lt;- MUDANÇA</comment><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">500</field></shadow></value><next><block type=\"neopixel_set_strip_color\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"SZaCZT(6KdcIK,#_C0i#\">strip</field></block></value><value name=\"rgb\"><shadow type=\"neopixel_colors\"><field name=\"color\">NeoPixelColors.Red</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"S6Dn$iYCP:_}OR,`g;YY\">COR_PARADO</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"device_gesture_event\" x=\"1574\" y=\"20\"><field name=\"NAME\">Gesture.TiltLeft</field><statement name=\"HANDLER\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"robotbit.Servo(PORTA_SERVO, ANGULO_SERVO)\" numlines=\"1\"></mutation></block></statement></block><block type=\"input_logo_event\" x=\"2011\" y=\"20\"><field name=\"action\">TouchButtonEvent.Pressed</field><statement name=\"HANDLER\"><block type=\"robotbit_stop_all\"><next><block type=\"neopixel_set_strip_color\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"SZaCZT(6KdcIK,#_C0i#\">strip</field></block></value><value name=\"rgb\"><shadow type=\"neopixel_colors\"><field name=\"color\">NeoPixelColors.Red</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"S6Dn$iYCP:_}OR,`g;YY\">COR_PARADO</field></block></value><next><block type=\"robotbit_matrix_draw\"><comment pinned=\"false\" h=\"80\" w=\"160\">&lt;- MUDANÇA</comment><value name=\"x\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"y\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"basic_show_icon\"><field name=\"i\">IconNames.No</field></block></next></block></next></block></next></block></statement></block><block type=\"radio_on_string_drag\" x=\"2452\" y=\"20\"><value name=\"HANDLER_DRAG_PARAM_receivedString\"><block type=\"argument_reporter_string\" deletable=\"false\"><field name=\"VALUE\">receivedString</field></block></value><statement name=\"HANDLER\"><block type=\"controls_if\"><mutation elseif=\"4\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">receivedString</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"X,Q@j[H_t/?o8EtGl1ns\">CMD_FORWARD</field></block></value></block></value><statement name=\"DO0\"><block type=\"basic_show_arrow\"><value name=\"i\"><shadow type=\"device_arrow\"><field name=\"arrow\">ArrowNames.North</field></shadow></value><next><block type=\"neopixel_set_strip_color\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"SZaCZT(6KdcIK,#_C0i#\">strip</field></block></value><value name=\"rgb\"><shadow type=\"neopixel_colors\"><field name=\"color\">NeoPixelColors.Red</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Q=Sv(XL66=dyN.w=950t\">COR_FRENTE</field></block></value><next><block type=\"robotbit_motor_dual\"><field name=\"motor1\">robotbit.Motors.M1A</field><field name=\"motor2\">robotbit.Motors.M2A</field><comment pinned=\"false\" h=\"80\" w=\"160\">&lt;- MUDANÇA</comment><value name=\"speed1\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"MU8zFCbnz63IGtD[dS},\">VELOCIDADE_FRENTE</field></block></value><value name=\"speed2\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"MU8zFCbnz63IGtD[dS},\">VELOCIDADE_FRENTE</field></block></value></block></next></block></next></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">receivedString</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"$gHvdtcIj_E[KKwK$m[F\">CMD_BACKWARD</field></block></value></block></value><statement name=\"DO1\"><block type=\"basic_show_arrow\"><value name=\"i\"><shadow type=\"device_arrow\"><field name=\"arrow\">ArrowNames.South</field></shadow></value><next><block type=\"neopixel_set_strip_color\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"SZaCZT(6KdcIK,#_C0i#\">strip</field></block></value><value name=\"rgb\"><shadow type=\"neopixel_colors\"><field name=\"color\">NeoPixelColors.Red</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"V9j*3da!fG~uq)24]:?[\">COR_TRAS</field></block></value><next><block type=\"robotbit_motor_dual\"><field name=\"motor1\">robotbit.Motors.M1A</field><field name=\"motor2\">robotbit.Motors.M2A</field><comment pinned=\"false\" h=\"80\" w=\"160\">&lt;- MUDANÇA</comment><value name=\"speed1\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"MU8zFCbnz63IGtD[dS},\">VELOCIDADE_FRENTE</field></block></value></block></value><value name=\"speed2\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"MU8zFCbnz63IGtD[dS},\">VELOCIDADE_FRENTE</field></block></value></block></value></block></next></block></next></block></statement><value name=\"IF2\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">receivedString</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"KZZU}#nsP362E=Qc0KZ0\">CMD_LEFT</field></block></value></block></value><statement name=\"DO2\"><block type=\"basic_show_arrow\"><value name=\"i\"><shadow type=\"device_arrow\"><field name=\"arrow\">ArrowNames.West</field></shadow></value><next><block type=\"neopixel_set_strip_color\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"SZaCZT(6KdcIK,#_C0i#\">strip</field></block></value><value name=\"rgb\"><shadow type=\"neopixel_colors\"><field name=\"color\">NeoPixelColors.Red</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"k$NQj^sES/k;|7Kss6??\">COR_CURVA</field></block></value><next><block type=\"robotbit_motor_dual\"><field name=\"motor1\">robotbit.Motors.M1A</field><field name=\"motor2\">robotbit.Motors.M2A</field><comment pinned=\"false\" h=\"80\" w=\"160\">&lt;- MUDANÇA</comment><value name=\"speed1\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"XJxkvslvS0[SC:{2!HJ0\">VELOCIDADE_CURVA</field></block></value></block></value><value name=\"speed2\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"XJxkvslvS0[SC:{2!HJ0\">VELOCIDADE_CURVA</field></block></value></block></next></block></next></block></statement><value name=\"IF3\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">receivedString</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"/@H}+d*xe}Ig#4#}XgEM\">CMD_RIGHT</field></block></value></block></value><statement name=\"DO3\"><block type=\"basic_show_arrow\"><value name=\"i\"><shadow type=\"device_arrow\"><field name=\"arrow\">ArrowNames.East</field></shadow></value><next><block type=\"neopixel_set_strip_color\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"SZaCZT(6KdcIK,#_C0i#\">strip</field></block></value><value name=\"rgb\"><shadow type=\"neopixel_colors\"><field name=\"color\">NeoPixelColors.Red</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"k$NQj^sES/k;|7Kss6??\">COR_CURVA</field></block></value><next><block type=\"robotbit_motor_dual\"><field name=\"motor1\">robotbit.Motors.M1A</field><field name=\"motor2\">robotbit.Motors.M2A</field><comment pinned=\"false\" h=\"80\" w=\"160\">&lt;- MUDANÇA</comment><value name=\"speed1\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"XJxkvslvS0[SC:{2!HJ0\">VELOCIDADE_CURVA</field></block></value><value name=\"speed2\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"XJxkvslvS0[SC:{2!HJ0\">VELOCIDADE_CURVA</field></block></value></block></value></block></next></block></next></block></statement><value name=\"IF4\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">receivedString</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"e{T;mauHqd$`U{jV-Ojw\">CMD_STOP</field></block></value></block></value><statement name=\"DO4\"><block type=\"robotbit_stop_all\"><next><block type=\"neopixel_set_strip_color\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"SZaCZT(6KdcIK,#_C0i#\">strip</field></block></value><value name=\"rgb\"><shadow type=\"neopixel_colors\"><field name=\"color\">NeoPixelColors.Red</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"S6Dn$iYCP:_}OR,`g;YY\">COR_PARADO</field></block></value><next><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Asleep</field><comment pinned=\"false\" h=\"80\" w=\"160\">&lt;- MUDANÇA</comment></block></next></block></next></block></statement></block></statement></block></xml>","main.ts":"","README.md":"","main.py":"# Declarações de variáveis (estilo MakeCode)\nstrip: neopixel.Strip = None\nbrilho_calculado = 0\nCOR_INICIAL = 0\nCOR_FRENTE = 0\nCOR_TRAS = 0\nCOR_CURVA = 0\nCOR_PARADO = 0\n\n# ==============================================================================\n# --- 1. CONFIGURAÇÕES PERSONALIZÁVEIS ---\n# Altere os valores aqui para customizar seu robô.\n# ==============================================================================\n\n# --- GERAL ---\nRADIO_GROUP = 1\nCMD_FORWARD = \"F\"\nCMD_BACKWARD = \"B\"\nCMD_LEFT = \"E\"\nCMD_RIGHT = \"D\"\nCMD_STOP = \"S\"\n\n# --- MOTORES ---\nVELOCIDADE_FRENTE = 255\nVELOCIDADE_CURVA = 200\n\n# --- SERVO ---\nPORTA_SERVO = robotbit.Servos.S2\nANGULO_SERVO = 90 # <- A LINHA QUE FALTAVA! Mudei para 90 como exemplo.\n\n# --- LEDS RGB (NEOPIXEL) ---\nBRILHO_LEDS = 0.5 # Valor de 0.0 (apagado) a 1.0 (máximo)\nRGB_INICIAL = (128, 0, 128)\nRGB_FRENTE = (0, 255, 0)\nRGB_TRAS = (255, 0, 0)\nRGB_CURVA = (0, 0, 255)\nRGB_PARADO = (0, 0, 0)\n\n\n# ==============================================================================\n# --- 2. DEFINIÇÃO DAS FUNÇÕES (O que o robô faz) ---\n# ==============================================================================\n\ndef on_radio_received(receivedString):\n    if receivedString == CMD_FORWARD:\n        basic.show_arrow(ArrowNames.NORTH)\n        strip.show_color(COR_FRENTE)\n        robotbit.servo(PORTA_SERVO, ANGULO_SERVO)\n        robotbit.motor_run_dual(robotbit.Motors.M1A, VELOCIDADE_FRENTE, robotbit.Motors.M2A, VELOCIDADE_FRENTE)\n    elif receivedString == CMD_BACKWARD:\n        basic.show_arrow(ArrowNames.SOUTH)\n        strip.show_color(COR_TRAS)\n        robotbit.motor_run_dual(robotbit.Motors.M1A, -VELOCIDADE_FRENTE, robotbit.Motors.M2A, -VELOCIDADE_FRENTE)\n    elif receivedString == CMD_LEFT:\n        basic.show_arrow(ArrowNames.WEST)\n        strip.show_color(COR_CURVA)\n        robotbit.motor_run_dual(robotbit.Motors.M1A, -VELOCIDADE_CURVA, robotbit.Motors.M2A, VELOCIDADE_CURVA)\n    elif receivedString == CMD_RIGHT:\n        basic.show_arrow(ArrowNames.EAST)\n        strip.show_color(COR_CURVA)\n        robotbit.motor_run_dual(robotbit.Motors.M1A, VELOCIDADE_CURVA, robotbit.Motors.M2A, -VELOCIDADE_CURVA)\n    elif receivedString == CMD_STOP:\n        robotbit.motor_stop_all()\n        strip.show_color(COR_PARADO)\n        basic.show_icon(IconNames.ASLEEP)\n\ndef on_logo_pressed():\n    robotbit.motor_stop_all()\n    strip.show_color(COR_PARADO)\n    robotbit.matrix_draw(0, 0)\n    basic.show_icon(IconNames.NO)\n\ndef on_gesture_tilt_left():\n    # Esta função controla o servo. Agora deve funcionar!\n    robotbit.servo(PORTA_SERVO, ANGULO_SERVO)\n\n\n# ==============================================================================\n# --- 3. EXECUÇÃO INICIAL (O que acontece quando o robô liga) ---\n# ==============================================================================\n\n# Associa os eventos (gesto, botão, rádio) às suas respectivas funções\nradio.on_received_string(on_radio_received)\ninput.on_logo_event(TouchButtonEvent.PRESSED, on_logo_pressed)\ninput.on_gesture(Gesture.TILT_LEFT, on_gesture_tilt_left)\n\n# Inicializa a fita de LED\nstrip = neopixel.create(DigitalPin.P16, 4, NeoPixelMode.RGB)\nbrilho_calculado = int(BRILHO_LEDS * 255)\nstrip.set_brightness(brilho_calculado)\n\n# Prepara as cores\nCOR_INICIAL = neopixel.rgb(RGB_INICIAL[0], RGB_INICIAL[1], RGB_INICIAL[2])\nCOR_FRENTE = neopixel.rgb(RGB_FRENTE[0], RGB_FRENTE[1], RGB_FRENTE[2])\nCOR_TRAS = neopixel.rgb(RGB_TRAS[0], RGB_TRAS[1], RGB_TRAS[2])\nCOR_CURVA = neopixel.rgb(RGB_CURVA[0], RGB_CURVA[1], RGB_CURVA[2])\nCOR_PARADO = neopixel.rgb(RGB_PARADO[0], RGB_PARADO[1], RGB_PARADO[2])\n\n# Configura o rádio e mostra o ícone inicial\nradio.set_group(RADIO_GROUP)\nbasic.show_icon(IconNames.SILLY)\n\n# Efeito de luz inicial\nstrip.show_color(COR_INICIAL)\nbasic.pause(500)\nstrip.show_color(COR_PARADO)","pxt.json":"{\n    \"name\": \"rc\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\",\n        \"robotbit\": \"github:kittenbot/pxt-robotbit#v0.4.8\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"main.py\"\n    ],\n    \"preferredEditor\": \"pyprj\"\n}\n"}},{"timestamp":1758129031023,"editorVersion":"8.0.16","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"X,Q@j[H_t/?o8EtGl1ns\">CMD_FORWARD</variable><variable id=\"$gHvdtcIj_E[KKwK$m[F\">CMD_BACKWARD</variable><variable id=\"KZZU}#nsP362E=Qc0KZ0\">CMD_LEFT</variable><variable id=\"/@H}+d*xe}Ig#4#}XgEM\">CMD_RIGHT</variable><variable id=\"e{T;mauHqd$`U{jV-Ojw\">CMD_STOP</variable><variable id=\"SZaCZT(6KdcIK,#_C0i#\">strip</variable><variable id=\"Q=Sv(XL66=dyN.w=950t\">COR_FRENTE</variable><variable id=\"MU8zFCbnz63IGtD[dS},\">VELOCIDADE_FRENTE</variable><variable id=\"V9j*3da!fG~uq)24]:?[\">COR_TRAS</variable><variable id=\"k$NQj^sES/k;|7Kss6??\">COR_CURVA</variable><variable id=\"XJxkvslvS0[SC:{2!HJ0\">VELOCIDADE_CURVA</variable><variable id=\"S6Dn$iYCP:_}OR,`g;YY\">COR_PARADO</variable><variable id=\"^eYe*y.(JI!dn)0eW)-;\">RADIO_GROUP</variable><variable id=\"[yTc/P3M($:0B#7LUAk(\">BRILHO_LEDS</variable><variable id=\"7nu11+ojnEWzS]tt1)sa\">RGB_INICIAL</variable><variable id=\"=p(qQ_C7@89Q_vDdEL6L\">RGB_FRENTE</variable><variable id=\"Y@~l/m]mNa_.@EG}(dBW\">RGB_TRAS</variable><variable id=\"e1yFG1H=Wr2,M6NJLF8(\">RGB_CURVA</variable><variable id=\"eYq.Esh/02Ql7lY49!j4\">RGB_PARADO</variable><variable id=\"R(j{KjW~(1l]1,Fs)u*O\">brilho_calculado</variable><variable id=\")%vji*67|O9~qGxKf87v\">COR_INICIAL</variable></variables><block type=\"pxt-on-start\" x=\"20\" y=\"20\"><statement name=\"HANDLER\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let ANGULO_SERVO = 0\" numlines=\"1\" declaredvars=\"ANGULO_SERVO\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"^eYe*y.(JI!dn)0eW)-;\">RADIO_GROUP</field><comment pinned=\"false\" h=\"80\" w=\"160\">==============================================================================\n--- CONFIGURAÇÕES PERSONALIZÁVEIS ---\n==============================================================================\n--- GERAL ---</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"X,Q@j[H_t/?o8EtGl1ns\">CMD_FORWARD</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">F</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"$gHvdtcIj_E[KKwK$m[F\">CMD_BACKWARD</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">B</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"KZZU}#nsP362E=Qc0KZ0\">CMD_LEFT</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">E</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"/@H}+d*xe}Ig#4#}XgEM\">CMD_RIGHT</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">D</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"e{T;mauHqd$`U{jV-Ojw\">CMD_STOP</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">S</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"MU8zFCbnz63IGtD[dS},\">VELOCIDADE_FRENTE</field><comment pinned=\"false\" h=\"80\" w=\"160\">--- MOTORES ---</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">255</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"XJxkvslvS0[SC:{2!HJ0\">VELOCIDADE_CURVA</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let PORTA_SERVO = robotbit.Servos.S1\" numlines=\"1\" declaredvars=\"PORTA_SERVO\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"[yTc/P3M($:0B#7LUAk(\">BRILHO_LEDS</field><comment pinned=\"false\" h=\"80\" w=\"160\">--- LEDS RGB (NEOPIXEL) ---</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0.5</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"7nu11+ojnEWzS]tt1)sa\">RGB_INICIAL</field><comment pinned=\"false\" h=\"80\" w=\"160\">Valor de 0.0 (apagado) a 1.0 (máximo)\nCores em formato (R, G, B)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\"><mutation items=\"3\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"math_number\"><field name=\"NUM\">128</field></shadow></value><value name=\"ADD1\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"ADD2\"><shadow type=\"math_number\"><field name=\"NUM\">128</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"=p(qQ_C7@89Q_vDdEL6L\">RGB_FRENTE</field><comment pinned=\"false\" h=\"80\" w=\"160\">Roxo</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\"><mutation items=\"3\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"ADD1\"><shadow type=\"math_number\"><field name=\"NUM\">255</field></shadow></value><value name=\"ADD2\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Y@~l/m]mNa_.@EG}(dBW\">RGB_TRAS</field><comment pinned=\"false\" h=\"80\" w=\"160\">Verde</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\"><mutation items=\"3\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"math_number\"><field name=\"NUM\">255</field></shadow></value><value name=\"ADD1\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"ADD2\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"e1yFG1H=Wr2,M6NJLF8(\">RGB_CURVA</field><comment pinned=\"false\" h=\"80\" w=\"160\">Vermelho</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\"><mutation items=\"3\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"ADD1\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"ADD2\"><shadow type=\"math_number\"><field name=\"NUM\">255</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"eYq.Esh/02Ql7lY49!j4\">RGB_PARADO</field><comment pinned=\"false\" h=\"80\" w=\"160\">Azul</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\"><mutation items=\"3\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"ADD1\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"ADD2\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"SZaCZT(6KdcIK,#_C0i#\">strip</field><comment pinned=\"false\" h=\"80\" w=\"160\">Apagado\n==============================================================================\n--- INICIALIZAÇÃO E LÓGICA PRINCIPAL ---\n==============================================================================\n1. Inicialização do NeoPixel  &lt;- MUDANÇA\nCriamos o objeto 'strip' para controlar 4 LEDs RGB no Pino 16.</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"neopixel_create\"><field name=\"pin\">DigitalPin.P16</field><field name=\"mode\">NeoPixelMode.RGB</field><value name=\"numleds\"><shadow type=\"math_number\"><field name=\"NUM\">4</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"R(j{KjW~(1l]1,Fs)u*O\">brilho_calculado</field><comment pinned=\"false\" h=\"80\" w=\"160\">2. Configuração de Brilho  &lt;- MUDANÇA\nA biblioteca neopixel usa valores de 0 a 255 para o brilho.\nConvertemos nosso valor de 0.0-1.0 para essa escala.</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_js_round\"><field name=\"OP\">trunc</field><value name=\"ARG0\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"[yTc/P3M($:0B#7LUAk(\">BRILHO_LEDS</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">255</field></shadow></value></block></value></block></value><next><block type=\"neopixel_set_brightness\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"SZaCZT(6KdcIK,#_C0i#\">strip</field></block></value><value name=\"brightness\"><block type=\"variables_get\"><field name=\"VAR\" id=\"R(j{KjW~(1l]1,Fs)u*O\">brilho_calculado</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\")%vji*67|O9~qGxKf87v\">COR_INICIAL</field><comment pinned=\"false\" h=\"80\" w=\"160\">3. Preparação das Cores  &lt;- MUDANÇA\nUsamos neopixel.rgb() para criar os valores de cor que o 'strip' entende.</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"neopixel_rgb\"><value name=\"red\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"7nu11+ojnEWzS]tt1)sa\">RGB_INICIAL</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"green\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"7nu11+ojnEWzS]tt1)sa\">RGB_INICIAL</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><value name=\"blue\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"7nu11+ojnEWzS]tt1)sa\">RGB_INICIAL</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Q=Sv(XL66=dyN.w=950t\">COR_FRENTE</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"neopixel_rgb\"><value name=\"red\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"=p(qQ_C7@89Q_vDdEL6L\">RGB_FRENTE</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"green\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"=p(qQ_C7@89Q_vDdEL6L\">RGB_FRENTE</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><value name=\"blue\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"=p(qQ_C7@89Q_vDdEL6L\">RGB_FRENTE</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"V9j*3da!fG~uq)24]:?[\">COR_TRAS</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"neopixel_rgb\"><value name=\"red\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"Y@~l/m]mNa_.@EG}(dBW\">RGB_TRAS</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"green\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"Y@~l/m]mNa_.@EG}(dBW\">RGB_TRAS</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><value name=\"blue\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"Y@~l/m]mNa_.@EG}(dBW\">RGB_TRAS</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"k$NQj^sES/k;|7Kss6??\">COR_CURVA</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"neopixel_rgb\"><value name=\"red\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"e1yFG1H=Wr2,M6NJLF8(\">RGB_CURVA</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"green\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"e1yFG1H=Wr2,M6NJLF8(\">RGB_CURVA</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><value name=\"blue\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"e1yFG1H=Wr2,M6NJLF8(\">RGB_CURVA</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"S6Dn$iYCP:_}OR,`g;YY\">COR_PARADO</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"neopixel_rgb\"><value name=\"red\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"eYq.Esh/02Ql7lY49!j4\">RGB_PARADO</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"green\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"eYq.Esh/02Ql7lY49!j4\">RGB_PARADO</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><value name=\"blue\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"eYq.Esh/02Ql7lY49!j4\">RGB_PARADO</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value></block></value><next><block type=\"radio_set_group\"><comment pinned=\"false\" h=\"80\" w=\"160\">Configuração inicial</comment><value name=\"ID\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"^eYe*y.(JI!dn)0eW)-;\">RADIO_GROUP</field></block></value><next><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Silly</field><next><block type=\"neopixel_set_strip_color\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"SZaCZT(6KdcIK,#_C0i#\">strip</field></block></value><value name=\"rgb\"><shadow type=\"neopixel_colors\"><field name=\"color\">NeoPixelColors.Red</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\")%vji*67|O9~qGxKf87v\">COR_INICIAL</field></block></value><next><block type=\"device_pause\"><comment pinned=\"false\" h=\"80\" w=\"160\">&lt;- MUDANÇA</comment><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">500</field></shadow></value><next><block type=\"neopixel_set_strip_color\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"SZaCZT(6KdcIK,#_C0i#\">strip</field></block></value><value name=\"rgb\"><shadow type=\"neopixel_colors\"><field name=\"color\">NeoPixelColors.Red</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"S6Dn$iYCP:_}OR,`g;YY\">COR_PARADO</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"device_gesture_event\" x=\"1574\" y=\"20\"><field name=\"NAME\">Gesture.TiltLeft</field><statement name=\"HANDLER\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"robotbit.Servo(PORTA_SERVO, ANGULO_SERVO)\" numlines=\"1\"></mutation></block></statement></block><block type=\"input_logo_event\" x=\"2011\" y=\"20\"><field name=\"action\">TouchButtonEvent.Pressed</field><statement name=\"HANDLER\"><block type=\"robotbit_stop_all\"><next><block type=\"neopixel_set_strip_color\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"SZaCZT(6KdcIK,#_C0i#\">strip</field></block></value><value name=\"rgb\"><shadow type=\"neopixel_colors\"><field name=\"color\">NeoPixelColors.Red</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"S6Dn$iYCP:_}OR,`g;YY\">COR_PARADO</field></block></value><next><block type=\"robotbit_matrix_draw\"><comment pinned=\"false\" h=\"80\" w=\"160\">&lt;- MUDANÇA</comment><value name=\"x\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"y\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"basic_show_icon\"><field name=\"i\">IconNames.No</field></block></next></block></next></block></next></block></statement></block><block type=\"radio_on_string_drag\" x=\"2452\" y=\"20\"><value name=\"HANDLER_DRAG_PARAM_receivedString\"><block type=\"argument_reporter_string\" deletable=\"false\"><field name=\"VALUE\">receivedString</field></block></value><statement name=\"HANDLER\"><block type=\"controls_if\"><mutation elseif=\"4\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">receivedString</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"X,Q@j[H_t/?o8EtGl1ns\">CMD_FORWARD</field></block></value></block></value><statement name=\"DO0\"><block type=\"basic_show_arrow\"><value name=\"i\"><shadow type=\"device_arrow\"><field name=\"arrow\">ArrowNames.North</field></shadow></value><next><block type=\"neopixel_set_strip_color\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"SZaCZT(6KdcIK,#_C0i#\">strip</field></block></value><value name=\"rgb\"><shadow type=\"neopixel_colors\"><field name=\"color\">NeoPixelColors.Red</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Q=Sv(XL66=dyN.w=950t\">COR_FRENTE</field></block></value><next><block type=\"robotbit_motor_dual\"><field name=\"motor1\">robotbit.Motors.M1A</field><field name=\"motor2\">robotbit.Motors.M2A</field><comment pinned=\"false\" h=\"80\" w=\"160\">&lt;- MUDANÇA</comment><value name=\"speed1\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"MU8zFCbnz63IGtD[dS},\">VELOCIDADE_FRENTE</field></block></value><value name=\"speed2\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"MU8zFCbnz63IGtD[dS},\">VELOCIDADE_FRENTE</field></block></value></block></next></block></next></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">receivedString</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"$gHvdtcIj_E[KKwK$m[F\">CMD_BACKWARD</field></block></value></block></value><statement name=\"DO1\"><block type=\"basic_show_arrow\"><value name=\"i\"><shadow type=\"device_arrow\"><field name=\"arrow\">ArrowNames.South</field></shadow></value><next><block type=\"neopixel_set_strip_color\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"SZaCZT(6KdcIK,#_C0i#\">strip</field></block></value><value name=\"rgb\"><shadow type=\"neopixel_colors\"><field name=\"color\">NeoPixelColors.Red</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"V9j*3da!fG~uq)24]:?[\">COR_TRAS</field></block></value><next><block type=\"robotbit_motor_dual\"><field name=\"motor1\">robotbit.Motors.M1A</field><field name=\"motor2\">robotbit.Motors.M2A</field><comment pinned=\"false\" h=\"80\" w=\"160\">&lt;- MUDANÇA</comment><value name=\"speed1\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"MU8zFCbnz63IGtD[dS},\">VELOCIDADE_FRENTE</field></block></value></block></value><value name=\"speed2\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"MU8zFCbnz63IGtD[dS},\">VELOCIDADE_FRENTE</field></block></value></block></value></block></next></block></next></block></statement><value name=\"IF2\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">receivedString</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"KZZU}#nsP362E=Qc0KZ0\">CMD_LEFT</field></block></value></block></value><statement name=\"DO2\"><block type=\"basic_show_arrow\"><value name=\"i\"><shadow type=\"device_arrow\"><field name=\"arrow\">ArrowNames.West</field></shadow></value><next><block type=\"neopixel_set_strip_color\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"SZaCZT(6KdcIK,#_C0i#\">strip</field></block></value><value name=\"rgb\"><shadow type=\"neopixel_colors\"><field name=\"color\">NeoPixelColors.Red</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"k$NQj^sES/k;|7Kss6??\">COR_CURVA</field></block></value><next><block type=\"robotbit_motor_dual\"><field name=\"motor1\">robotbit.Motors.M1A</field><field name=\"motor2\">robotbit.Motors.M2A</field><comment pinned=\"false\" h=\"80\" w=\"160\">&lt;- MUDANÇA</comment><value name=\"speed1\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"XJxkvslvS0[SC:{2!HJ0\">VELOCIDADE_CURVA</field></block></value></block></value><value name=\"speed2\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"XJxkvslvS0[SC:{2!HJ0\">VELOCIDADE_CURVA</field></block></value></block></next></block></next></block></statement><value name=\"IF3\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">receivedString</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"/@H}+d*xe}Ig#4#}XgEM\">CMD_RIGHT</field></block></value></block></value><statement name=\"DO3\"><block type=\"basic_show_arrow\"><value name=\"i\"><shadow type=\"device_arrow\"><field name=\"arrow\">ArrowNames.East</field></shadow></value><next><block type=\"neopixel_set_strip_color\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"SZaCZT(6KdcIK,#_C0i#\">strip</field></block></value><value name=\"rgb\"><shadow type=\"neopixel_colors\"><field name=\"color\">NeoPixelColors.Red</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"k$NQj^sES/k;|7Kss6??\">COR_CURVA</field></block></value><next><block type=\"robotbit_motor_dual\"><field name=\"motor1\">robotbit.Motors.M1A</field><field name=\"motor2\">robotbit.Motors.M2A</field><comment pinned=\"false\" h=\"80\" w=\"160\">&lt;- MUDANÇA</comment><value name=\"speed1\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"XJxkvslvS0[SC:{2!HJ0\">VELOCIDADE_CURVA</field></block></value><value name=\"speed2\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"XJxkvslvS0[SC:{2!HJ0\">VELOCIDADE_CURVA</field></block></value></block></value></block></next></block></next></block></statement><value name=\"IF4\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">receivedString</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"e{T;mauHqd$`U{jV-Ojw\">CMD_STOP</field></block></value></block></value><statement name=\"DO4\"><block type=\"robotbit_stop_all\"><next><block type=\"neopixel_set_strip_color\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"SZaCZT(6KdcIK,#_C0i#\">strip</field></block></value><value name=\"rgb\"><shadow type=\"neopixel_colors\"><field name=\"color\">NeoPixelColors.Red</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"S6Dn$iYCP:_}OR,`g;YY\">COR_PARADO</field></block></value><next><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Asleep</field><comment pinned=\"false\" h=\"80\" w=\"160\">&lt;- MUDANÇA</comment></block></next></block></next></block></statement></block></statement></block></xml>","main.ts":"","README.md":"","main.py":"# Declarações de variáveis (estilo MakeCode)\nstrip: neopixel.Strip = None\nbrilho_calculado = 0\nCOR_INICIAL = 0\nCOR_FRENTE = 0\nCOR_TRAS = 0\nCOR_CURVA = 0\nCOR_PARADO = 0\n\n# ==============================================================================\n# --- 1. CONFIGURAÇÕES PERSONALIZÁVEIS ---\n# Altere os valores aqui para customizar seu robô.\n# ==============================================================================\n\n# --- GERAL ---\nRADIO_GROUP = 1\nCMD_FORWARD = \"F\"\nCMD_BACKWARD = \"B\"\nCMD_LEFT = \"E\"\nCMD_RIGHT = \"D\"\nCMD_STOP = \"S\"\n\n# --- MOTORES ---\nVELOCIDADE_FRENTE = 255\nVELOCIDADE_CURVA = 200\n\n# --- SERVO ---\nPORTA_SERVO = robotbit.Servos.S2\nANGULO_SERVO = 90 # <- A LINHA QUE FALTAVA! Mudei para 90 como exemplo.\nANGULO_RIGHT = 110\nANGULO_LEFT = 70\n# --- LEDS RGB (NEOPIXEL) ---\nBRILHO_LEDS = 0.5 # Valor de 0.0 (apagado) a 1.0 (máximo)\nRGB_INICIAL = (128, 0, 128)\nRGB_FRENTE = (0, 255, 0)\nRGB_TRAS = (255, 0, 0)\nRGB_CURVA = (0, 0, 255)\nRGB_PARADO = (0, 0, 0)\n\n\n# ==============================================================================\n# --- 2. DEFINIÇÃO DAS FUNÇÕES (O que o robô faz) ---\n# ==============================================================================\n\ndef on_radio_received(receivedString):\n    if receivedString == CMD_FORWARD:\n        basic.show_arrow(ArrowNames.NORTH)\n        strip.show_color(COR_FRENTE)\n        robotbit.servo(PORTA_SERVO, ANGULO_SERVO)\n        robotbit.motor_run_dual(robotbit.Motors.M1A, VELOCIDADE_FRENTE, robotbit.Motors.M2A, VELOCIDADE_FRENTE)\n    elif receivedString == CMD_BACKWARD:\n        basic.show_arrow(ArrowNames.SOUTH)\n        strip.show_color(COR_TRAS)\n        robotbit.servo(PORTA_SERVO, ANGULO_SERVO)\n        robotbit.motor_run_dual(robotbit.Motors.M1A, -VELOCIDADE_FRENTE, robotbit.Motors.M2A, -VELOCIDADE_FRENTE)\n    elif receivedString == CMD_LEFT:\n        basic.show_arrow(ArrowNames.WEST)\n        strip.show_color(COR_CURVA)\n        robotbit.servo(PORTA_SERVO, ANGULO_LEFT)\n        robotbit.motor_run_dual(robotbit.Motors.M1A, -VELOCIDADE_CURVA, robotbit.Motors.M2A, VELOCIDADE_CURVA)\n    elif receivedString == CMD_RIGHT:\n        basic.show_arrow(ArrowNames.EAST)\n        strip.show_color(COR_CURVA)\n        robotbit.servo(PORTA_SERVO, ANGULO_RIGHT)\n        robotbit.motor_run_dual(robotbit.Motors.M1A, VELOCIDADE_CURVA, robotbit.Motors.M2A, -VELOCIDADE_CURVA)\n    elif receivedString == CMD_STOP:\n        robotbit.motor_stop_all()\n        strip.show_color(COR_PARADO)\n        basic.show_icon(IconNames.ASLEEP)\n\ndef on_logo_pressed():\n    robotbit.motor_stop_all()\n    strip.show_color(COR_PARADO)\n    robotbit.matrix_draw(0, 0)\n    basic.show_icon(IconNames.NO)\n\ndef on_gesture_tilt_left():\n    # Esta função controla o servo. Agora deve funcionar!\n    robotbit.servo(PORTA_SERVO, ANGULO_SERVO)\n\n\n# ==============================================================================\n# --- 3. EXECUÇÃO INICIAL (O que acontece quando o robô liga) ---\n# ==============================================================================\n\n# Associa os eventos (gesto, botão, rádio) às suas respectivas funções\nradio.on_received_string(on_radio_received)\ninput.on_logo_event(TouchButtonEvent.PRESSED, on_logo_pressed)\ninput.on_gesture(Gesture.TILT_LEFT, on_gesture_tilt_left)\n\n# Inicializa a fita de LED\nstrip = neopixel.create(DigitalPin.P16, 4, NeoPixelMode.RGB)\nbrilho_calculado = int(BRILHO_LEDS * 255)\nstrip.set_brightness(brilho_calculado)\n\n# Prepara as cores\nCOR_INICIAL = neopixel.rgb(RGB_INICIAL[0], RGB_INICIAL[1], RGB_INICIAL[2])\nCOR_FRENTE = neopixel.rgb(RGB_FRENTE[0], RGB_FRENTE[1], RGB_FRENTE[2])\nCOR_TRAS = neopixel.rgb(RGB_TRAS[0], RGB_TRAS[1], RGB_TRAS[2])\nCOR_CURVA = neopixel.rgb(RGB_CURVA[0], RGB_CURVA[1], RGB_CURVA[2])\nCOR_PARADO = neopixel.rgb(RGB_PARADO[0], RGB_PARADO[1], RGB_PARADO[2])\n\n# Configura o rádio e mostra o ícone inicial\nradio.set_group(RADIO_GROUP)\nbasic.show_icon(IconNames.SILLY)\n\n# Efeito de luz inicial\nstrip.show_color(COR_INICIAL)\nbasic.pause(500)\nstrip.show_color(COR_PARADO)","pxt.json":"{\n    \"name\": \"rc\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\",\n        \"robotbit\": \"github:kittenbot/pxt-robotbit#v0.4.8\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"main.py\"\n    ],\n    \"preferredEditor\": \"pyprj\"\n}\n"}},{"timestamp":1758418310578,"editorVersion":"8.0.16","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"X,Q@j[H_t/?o8EtGl1ns\">CMD_FORWARD</variable><variable id=\"$gHvdtcIj_E[KKwK$m[F\">CMD_BACKWARD</variable><variable id=\"KZZU}#nsP362E=Qc0KZ0\">CMD_LEFT</variable><variable id=\"/@H}+d*xe}Ig#4#}XgEM\">CMD_RIGHT</variable><variable id=\"e{T;mauHqd$`U{jV-Ojw\">CMD_STOP</variable><variable id=\"SZaCZT(6KdcIK,#_C0i#\">strip</variable><variable id=\"Q=Sv(XL66=dyN.w=950t\">COR_FRENTE</variable><variable id=\"MU8zFCbnz63IGtD[dS},\">VELOCIDADE_FRENTE</variable><variable id=\"V9j*3da!fG~uq)24]:?[\">COR_TRAS</variable><variable id=\"k$NQj^sES/k;|7Kss6??\">COR_CURVA</variable><variable id=\"XJxkvslvS0[SC:{2!HJ0\">VELOCIDADE_CURVA</variable><variable id=\"S6Dn$iYCP:_}OR,`g;YY\">COR_PARADO</variable><variable id=\"^eYe*y.(JI!dn)0eW)-;\">RADIO_GROUP</variable><variable id=\"[yTc/P3M($:0B#7LUAk(\">BRILHO_LEDS</variable><variable id=\"7nu11+ojnEWzS]tt1)sa\">RGB_INICIAL</variable><variable id=\"=p(qQ_C7@89Q_vDdEL6L\">RGB_FRENTE</variable><variable id=\"Y@~l/m]mNa_.@EG}(dBW\">RGB_TRAS</variable><variable id=\"e1yFG1H=Wr2,M6NJLF8(\">RGB_CURVA</variable><variable id=\"eYq.Esh/02Ql7lY49!j4\">RGB_PARADO</variable><variable id=\"R(j{KjW~(1l]1,Fs)u*O\">brilho_calculado</variable><variable id=\")%vji*67|O9~qGxKf87v\">COR_INICIAL</variable></variables><block type=\"pxt-on-start\" x=\"20\" y=\"20\"><statement name=\"HANDLER\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let ANGULO_SERVO = 0\" numlines=\"1\" declaredvars=\"ANGULO_SERVO\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"^eYe*y.(JI!dn)0eW)-;\">RADIO_GROUP</field><comment pinned=\"false\" h=\"80\" w=\"160\">==============================================================================\n--- CONFIGURAÇÕES PERSONALIZÁVEIS ---\n==============================================================================\n--- GERAL ---</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"X,Q@j[H_t/?o8EtGl1ns\">CMD_FORWARD</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">F</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"$gHvdtcIj_E[KKwK$m[F\">CMD_BACKWARD</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">B</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"KZZU}#nsP362E=Qc0KZ0\">CMD_LEFT</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">E</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"/@H}+d*xe}Ig#4#}XgEM\">CMD_RIGHT</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">D</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"e{T;mauHqd$`U{jV-Ojw\">CMD_STOP</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">S</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"MU8zFCbnz63IGtD[dS},\">VELOCIDADE_FRENTE</field><comment pinned=\"false\" h=\"80\" w=\"160\">--- MOTORES ---</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">255</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"XJxkvslvS0[SC:{2!HJ0\">VELOCIDADE_CURVA</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let PORTA_SERVO = robotbit.Servos.S1\" numlines=\"1\" declaredvars=\"PORTA_SERVO\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"[yTc/P3M($:0B#7LUAk(\">BRILHO_LEDS</field><comment pinned=\"false\" h=\"80\" w=\"160\">--- LEDS RGB (NEOPIXEL) ---</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0.5</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"7nu11+ojnEWzS]tt1)sa\">RGB_INICIAL</field><comment pinned=\"false\" h=\"80\" w=\"160\">Valor de 0.0 (apagado) a 1.0 (máximo)\nCores em formato (R, G, B)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\"><mutation items=\"3\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"math_number\"><field name=\"NUM\">128</field></shadow></value><value name=\"ADD1\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"ADD2\"><shadow type=\"math_number\"><field name=\"NUM\">128</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"=p(qQ_C7@89Q_vDdEL6L\">RGB_FRENTE</field><comment pinned=\"false\" h=\"80\" w=\"160\">Roxo</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\"><mutation items=\"3\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"ADD1\"><shadow type=\"math_number\"><field name=\"NUM\">255</field></shadow></value><value name=\"ADD2\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Y@~l/m]mNa_.@EG}(dBW\">RGB_TRAS</field><comment pinned=\"false\" h=\"80\" w=\"160\">Verde</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\"><mutation items=\"3\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"math_number\"><field name=\"NUM\">255</field></shadow></value><value name=\"ADD1\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"ADD2\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"e1yFG1H=Wr2,M6NJLF8(\">RGB_CURVA</field><comment pinned=\"false\" h=\"80\" w=\"160\">Vermelho</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\"><mutation items=\"3\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"ADD1\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"ADD2\"><shadow type=\"math_number\"><field name=\"NUM\">255</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"eYq.Esh/02Ql7lY49!j4\">RGB_PARADO</field><comment pinned=\"false\" h=\"80\" w=\"160\">Azul</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\"><mutation items=\"3\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"ADD1\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"ADD2\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"SZaCZT(6KdcIK,#_C0i#\">strip</field><comment pinned=\"false\" h=\"80\" w=\"160\">Apagado\n==============================================================================\n--- INICIALIZAÇÃO E LÓGICA PRINCIPAL ---\n==============================================================================\n1. Inicialização do NeoPixel  &lt;- MUDANÇA\nCriamos o objeto 'strip' para controlar 4 LEDs RGB no Pino 16.</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"neopixel_create\"><field name=\"pin\">DigitalPin.P16</field><field name=\"mode\">NeoPixelMode.RGB</field><value name=\"numleds\"><shadow type=\"math_number\"><field name=\"NUM\">4</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"R(j{KjW~(1l]1,Fs)u*O\">brilho_calculado</field><comment pinned=\"false\" h=\"80\" w=\"160\">2. Configuração de Brilho  &lt;- MUDANÇA\nA biblioteca neopixel usa valores de 0 a 255 para o brilho.\nConvertemos nosso valor de 0.0-1.0 para essa escala.</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_js_round\"><field name=\"OP\">trunc</field><value name=\"ARG0\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"[yTc/P3M($:0B#7LUAk(\">BRILHO_LEDS</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">255</field></shadow></value></block></value></block></value><next><block type=\"neopixel_set_brightness\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"SZaCZT(6KdcIK,#_C0i#\">strip</field></block></value><value name=\"brightness\"><block type=\"variables_get\"><field name=\"VAR\" id=\"R(j{KjW~(1l]1,Fs)u*O\">brilho_calculado</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\")%vji*67|O9~qGxKf87v\">COR_INICIAL</field><comment pinned=\"false\" h=\"80\" w=\"160\">3. Preparação das Cores  &lt;- MUDANÇA\nUsamos neopixel.rgb() para criar os valores de cor que o 'strip' entende.</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"neopixel_rgb\"><value name=\"red\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"7nu11+ojnEWzS]tt1)sa\">RGB_INICIAL</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"green\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"7nu11+ojnEWzS]tt1)sa\">RGB_INICIAL</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><value name=\"blue\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"7nu11+ojnEWzS]tt1)sa\">RGB_INICIAL</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Q=Sv(XL66=dyN.w=950t\">COR_FRENTE</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"neopixel_rgb\"><value name=\"red\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"=p(qQ_C7@89Q_vDdEL6L\">RGB_FRENTE</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"green\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"=p(qQ_C7@89Q_vDdEL6L\">RGB_FRENTE</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><value name=\"blue\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"=p(qQ_C7@89Q_vDdEL6L\">RGB_FRENTE</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"V9j*3da!fG~uq)24]:?[\">COR_TRAS</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"neopixel_rgb\"><value name=\"red\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"Y@~l/m]mNa_.@EG}(dBW\">RGB_TRAS</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"green\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"Y@~l/m]mNa_.@EG}(dBW\">RGB_TRAS</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><value name=\"blue\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"Y@~l/m]mNa_.@EG}(dBW\">RGB_TRAS</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"k$NQj^sES/k;|7Kss6??\">COR_CURVA</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"neopixel_rgb\"><value name=\"red\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"e1yFG1H=Wr2,M6NJLF8(\">RGB_CURVA</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"green\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"e1yFG1H=Wr2,M6NJLF8(\">RGB_CURVA</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><value name=\"blue\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"e1yFG1H=Wr2,M6NJLF8(\">RGB_CURVA</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"S6Dn$iYCP:_}OR,`g;YY\">COR_PARADO</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"neopixel_rgb\"><value name=\"red\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"eYq.Esh/02Ql7lY49!j4\">RGB_PARADO</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"green\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"eYq.Esh/02Ql7lY49!j4\">RGB_PARADO</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><value name=\"blue\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"eYq.Esh/02Ql7lY49!j4\">RGB_PARADO</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value></block></value><next><block type=\"radio_set_group\"><comment pinned=\"false\" h=\"80\" w=\"160\">Configuração inicial</comment><value name=\"ID\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"^eYe*y.(JI!dn)0eW)-;\">RADIO_GROUP</field></block></value><next><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Silly</field><next><block type=\"neopixel_set_strip_color\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"SZaCZT(6KdcIK,#_C0i#\">strip</field></block></value><value name=\"rgb\"><shadow type=\"neopixel_colors\"><field name=\"color\">NeoPixelColors.Red</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\")%vji*67|O9~qGxKf87v\">COR_INICIAL</field></block></value><next><block type=\"device_pause\"><comment pinned=\"false\" h=\"80\" w=\"160\">&lt;- MUDANÇA</comment><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">500</field></shadow></value><next><block type=\"neopixel_set_strip_color\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"SZaCZT(6KdcIK,#_C0i#\">strip</field></block></value><value name=\"rgb\"><shadow type=\"neopixel_colors\"><field name=\"color\">NeoPixelColors.Red</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"S6Dn$iYCP:_}OR,`g;YY\">COR_PARADO</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"device_gesture_event\" x=\"1574\" y=\"20\"><field name=\"NAME\">Gesture.TiltLeft</field><statement name=\"HANDLER\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"robotbit.Servo(PORTA_SERVO, ANGULO_SERVO)\" numlines=\"1\"></mutation></block></statement></block><block type=\"input_logo_event\" x=\"2011\" y=\"20\"><field name=\"action\">TouchButtonEvent.Pressed</field><statement name=\"HANDLER\"><block type=\"robotbit_stop_all\"><next><block type=\"neopixel_set_strip_color\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"SZaCZT(6KdcIK,#_C0i#\">strip</field></block></value><value name=\"rgb\"><shadow type=\"neopixel_colors\"><field name=\"color\">NeoPixelColors.Red</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"S6Dn$iYCP:_}OR,`g;YY\">COR_PARADO</field></block></value><next><block type=\"robotbit_matrix_draw\"><comment pinned=\"false\" h=\"80\" w=\"160\">&lt;- MUDANÇA</comment><value name=\"x\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"y\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"basic_show_icon\"><field name=\"i\">IconNames.No</field></block></next></block></next></block></next></block></statement></block><block type=\"radio_on_string_drag\" x=\"2452\" y=\"20\"><value name=\"HANDLER_DRAG_PARAM_receivedString\"><block type=\"argument_reporter_string\" deletable=\"false\"><field name=\"VALUE\">receivedString</field></block></value><statement name=\"HANDLER\"><block type=\"controls_if\"><mutation elseif=\"4\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">receivedString</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"X,Q@j[H_t/?o8EtGl1ns\">CMD_FORWARD</field></block></value></block></value><statement name=\"DO0\"><block type=\"basic_show_arrow\"><value name=\"i\"><shadow type=\"device_arrow\"><field name=\"arrow\">ArrowNames.North</field></shadow></value><next><block type=\"neopixel_set_strip_color\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"SZaCZT(6KdcIK,#_C0i#\">strip</field></block></value><value name=\"rgb\"><shadow type=\"neopixel_colors\"><field name=\"color\">NeoPixelColors.Red</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Q=Sv(XL66=dyN.w=950t\">COR_FRENTE</field></block></value><next><block type=\"robotbit_motor_dual\"><field name=\"motor1\">robotbit.Motors.M1A</field><field name=\"motor2\">robotbit.Motors.M2A</field><comment pinned=\"false\" h=\"80\" w=\"160\">&lt;- MUDANÇA</comment><value name=\"speed1\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"MU8zFCbnz63IGtD[dS},\">VELOCIDADE_FRENTE</field></block></value><value name=\"speed2\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"MU8zFCbnz63IGtD[dS},\">VELOCIDADE_FRENTE</field></block></value></block></next></block></next></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">receivedString</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"$gHvdtcIj_E[KKwK$m[F\">CMD_BACKWARD</field></block></value></block></value><statement name=\"DO1\"><block type=\"basic_show_arrow\"><value name=\"i\"><shadow type=\"device_arrow\"><field name=\"arrow\">ArrowNames.South</field></shadow></value><next><block type=\"neopixel_set_strip_color\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"SZaCZT(6KdcIK,#_C0i#\">strip</field></block></value><value name=\"rgb\"><shadow type=\"neopixel_colors\"><field name=\"color\">NeoPixelColors.Red</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"V9j*3da!fG~uq)24]:?[\">COR_TRAS</field></block></value><next><block type=\"robotbit_motor_dual\"><field name=\"motor1\">robotbit.Motors.M1A</field><field name=\"motor2\">robotbit.Motors.M2A</field><comment pinned=\"false\" h=\"80\" w=\"160\">&lt;- MUDANÇA</comment><value name=\"speed1\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"MU8zFCbnz63IGtD[dS},\">VELOCIDADE_FRENTE</field></block></value></block></value><value name=\"speed2\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"MU8zFCbnz63IGtD[dS},\">VELOCIDADE_FRENTE</field></block></value></block></value></block></next></block></next></block></statement><value name=\"IF2\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">receivedString</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"KZZU}#nsP362E=Qc0KZ0\">CMD_LEFT</field></block></value></block></value><statement name=\"DO2\"><block type=\"basic_show_arrow\"><value name=\"i\"><shadow type=\"device_arrow\"><field name=\"arrow\">ArrowNames.West</field></shadow></value><next><block type=\"neopixel_set_strip_color\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"SZaCZT(6KdcIK,#_C0i#\">strip</field></block></value><value name=\"rgb\"><shadow type=\"neopixel_colors\"><field name=\"color\">NeoPixelColors.Red</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"k$NQj^sES/k;|7Kss6??\">COR_CURVA</field></block></value><next><block type=\"robotbit_motor_dual\"><field name=\"motor1\">robotbit.Motors.M1A</field><field name=\"motor2\">robotbit.Motors.M2A</field><comment pinned=\"false\" h=\"80\" w=\"160\">&lt;- MUDANÇA</comment><value name=\"speed1\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"XJxkvslvS0[SC:{2!HJ0\">VELOCIDADE_CURVA</field></block></value></block></value><value name=\"speed2\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"XJxkvslvS0[SC:{2!HJ0\">VELOCIDADE_CURVA</field></block></value></block></next></block></next></block></statement><value name=\"IF3\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">receivedString</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"/@H}+d*xe}Ig#4#}XgEM\">CMD_RIGHT</field></block></value></block></value><statement name=\"DO3\"><block type=\"basic_show_arrow\"><value name=\"i\"><shadow type=\"device_arrow\"><field name=\"arrow\">ArrowNames.East</field></shadow></value><next><block type=\"neopixel_set_strip_color\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"SZaCZT(6KdcIK,#_C0i#\">strip</field></block></value><value name=\"rgb\"><shadow type=\"neopixel_colors\"><field name=\"color\">NeoPixelColors.Red</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"k$NQj^sES/k;|7Kss6??\">COR_CURVA</field></block></value><next><block type=\"robotbit_motor_dual\"><field name=\"motor1\">robotbit.Motors.M1A</field><field name=\"motor2\">robotbit.Motors.M2A</field><comment pinned=\"false\" h=\"80\" w=\"160\">&lt;- MUDANÇA</comment><value name=\"speed1\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"XJxkvslvS0[SC:{2!HJ0\">VELOCIDADE_CURVA</field></block></value><value name=\"speed2\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"XJxkvslvS0[SC:{2!HJ0\">VELOCIDADE_CURVA</field></block></value></block></value></block></next></block></next></block></statement><value name=\"IF4\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">receivedString</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"e{T;mauHqd$`U{jV-Ojw\">CMD_STOP</field></block></value></block></value><statement name=\"DO4\"><block type=\"robotbit_stop_all\"><next><block type=\"neopixel_set_strip_color\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"SZaCZT(6KdcIK,#_C0i#\">strip</field></block></value><value name=\"rgb\"><shadow type=\"neopixel_colors\"><field name=\"color\">NeoPixelColors.Red</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"S6Dn$iYCP:_}OR,`g;YY\">COR_PARADO</field></block></value><next><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Asleep</field><comment pinned=\"false\" h=\"80\" w=\"160\">&lt;- MUDANÇA</comment></block></next></block></next></block></statement></block></statement></block></xml>","main.ts":"","README.md":"","main.py":"# Declarações de variáveis (estilo MakeCode)\nstrip: neopixel.Strip = None\nbrilho_calculado = 0\nCOR_INICIAL = 0\nCOR_FRENTE = 0\nCOR_TRAS = 0\nCOR_CURVA = 0\nCOR_PARADO = 0\n\n# ==============================================================================\n# --- 1. CONFIGURAÇÕES PERSONALIZÁVEIS ---\n# Altere os valores aqui para customizar seu robô.\n# ==============================================================================\n\n# --- GERAL ---\nRADIO_GROUP = 1\nCMD_FORWARD = \"F\"\nCMD_BACKWARD = \"B\"\nCMD_LEFT = \"E\"\nCMD_RIGHT = \"D\"\nCMD_STOP = \"S\"\n\n# --- MOTORES ---\nVELOCIDADE_FRENTE = 255\nVELOCIDADE_CURVA = 255\n\n# --- SERVO ---\nPORTA_SERVO = robotbit.Servos.S2\nANGULO_SERVO = 90 # <- A LINHA QUE FALTAVA! Mudei para 90 como exemplo.\nANGULO_RIGHT = 110\nANGULO_LEFT = 70\n# --- LEDS RGB (NEOPIXEL) ---\nBRILHO_LEDS = 0.5 # Valor de 0.0 (apagado) a 1.0 (máximo)\nRGB_INICIAL = (128, 0, 128)\nRGB_FRENTE = (0, 255, 0)\nRGB_TRAS = (255, 0, 0)\nRGB_CURVA = (0, 0, 255)\nRGB_PARADO = (0, 0, 0)\n\n\n# ==============================================================================\n# --- 2. DEFINIÇÃO DAS FUNÇÕES (O que o robô faz) ---\n# ==============================================================================\n\ndef on_radio_received(receivedString):\n    if receivedString == CMD_FORWARD:\n        basic.show_arrow(ArrowNames.NORTH)\n        strip.show_color(COR_FRENTE)\n        robotbit.servo(PORTA_SERVO, ANGULO_SERVO)\n        robotbit.motor_run_dual(robotbit.Motors.M1A, VELOCIDADE_FRENTE, robotbit.Motors.M2A, VELOCIDADE_FRENTE)\n    elif receivedString == CMD_BACKWARD:\n        basic.show_arrow(ArrowNames.SOUTH)\n        strip.show_color(COR_TRAS)\n        robotbit.servo(PORTA_SERVO, ANGULO_SERVO)\n        robotbit.motor_run_dual(robotbit.Motors.M1A, -VELOCIDADE_FRENTE, robotbit.Motors.M2A, -VELOCIDADE_FRENTE)\n    elif receivedString == CMD_LEFT:\n        basic.show_arrow(ArrowNames.WEST)\n        strip.show_color(COR_CURVA)\n        robotbit.servo(PORTA_SERVO, ANGULO_LEFT)\n        robotbit.motor_run_dual(robotbit.Motors.M1A, VELOCIDADE_CURVA, robotbit.Motors.M2A, VELOCIDADE_CURVA)\n    elif receivedString == CMD_RIGHT:\n        basic.show_arrow(ArrowNames.EAST)\n        strip.show_color(COR_CURVA)\n        robotbit.servo(PORTA_SERVO, ANGULO_RIGHT)\n        robotbit.motor_run_dual(robotbit.Motors.M1A, VELOCIDADE_CURVA, robotbit.Motors.M2A, VELOCIDADE_CURVA)\n    elif receivedString == CMD_STOP:\n        robotbit.motor_stop_all()\n        strip.show_color(COR_PARADO)\n        basic.show_icon(IconNames.ASLEEP)\n\ndef on_logo_pressed():\n    robotbit.motor_stop_all()\n    strip.show_color(COR_PARADO)\n    robotbit.matrix_draw(0, 0)\n    basic.show_icon(IconNames.NO)\n\ndef on_gesture_tilt_left():\n    # Esta função controla o servo. Agora deve funcionar!\n    robotbit.servo(PORTA_SERVO, ANGULO_SERVO)\n\n\n# ==============================================================================\n# --- 3. EXECUÇÃO INICIAL (O que acontece quando o robô liga) ---\n# ==============================================================================\n\n# Associa os eventos (gesto, botão, rádio) às suas respectivas funções\nradio.on_received_string(on_radio_received)\ninput.on_logo_event(TouchButtonEvent.PRESSED, on_logo_pressed)\ninput.on_gesture(Gesture.TILT_LEFT, on_gesture_tilt_left)\n\n# Inicializa a fita de LED\nstrip = neopixel.create(DigitalPin.P16, 4, NeoPixelMode.RGB)\nbrilho_calculado = int(BRILHO_LEDS * 255)\nstrip.set_brightness(brilho_calculado)\n\n# Prepara as cores\nCOR_INICIAL = neopixel.rgb(RGB_INICIAL[0], RGB_INICIAL[1], RGB_INICIAL[2])\nCOR_FRENTE = neopixel.rgb(RGB_FRENTE[0], RGB_FRENTE[1], RGB_FRENTE[2])\nCOR_TRAS = neopixel.rgb(RGB_TRAS[0], RGB_TRAS[1], RGB_TRAS[2])\nCOR_CURVA = neopixel.rgb(RGB_CURVA[0], RGB_CURVA[1], RGB_CURVA[2])\nCOR_PARADO = neopixel.rgb(RGB_PARADO[0], RGB_PARADO[1], RGB_PARADO[2])\n\n# Configura o rádio e mostra o ícone inicial\nradio.set_group(RADIO_GROUP)\nbasic.show_icon(IconNames.SILLY)\n\n# Efeito de luz inicial\nstrip.show_color(COR_INICIAL)\nbasic.pause(500)\nstrip.show_color(COR_PARADO)","pxt.json":"{\n    \"name\": \"rc\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\",\n        \"robotbit\": \"github:kittenbot/pxt-robotbit#v0.4.8\",\n        \"i2cLCD1602\": \"github:makecode-extensions/i2clcd1602#v1.5.0\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"main.py\"\n    ],\n    \"preferredEditor\": \"pyprj\"\n}\n"}},{"timestamp":1758420512455,"editorVersion":"8.0.16","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"X,Q@j[H_t/?o8EtGl1ns\">CMD_FORWARD</variable><variable id=\"$gHvdtcIj_E[KKwK$m[F\">CMD_BACKWARD</variable><variable id=\"KZZU}#nsP362E=Qc0KZ0\">CMD_LEFT</variable><variable id=\"/@H}+d*xe}Ig#4#}XgEM\">CMD_RIGHT</variable><variable id=\"e{T;mauHqd$`U{jV-Ojw\">CMD_STOP</variable><variable id=\"SZaCZT(6KdcIK,#_C0i#\">strip</variable><variable id=\"Q=Sv(XL66=dyN.w=950t\">COR_FRENTE</variable><variable id=\"MU8zFCbnz63IGtD[dS},\">VELOCIDADE_FRENTE</variable><variable id=\"V9j*3da!fG~uq)24]:?[\">COR_TRAS</variable><variable id=\"k$NQj^sES/k;|7Kss6??\">COR_CURVA</variable><variable id=\"XJxkvslvS0[SC:{2!HJ0\">VELOCIDADE_CURVA</variable><variable id=\"S6Dn$iYCP:_}OR,`g;YY\">COR_PARADO</variable><variable id=\"^eYe*y.(JI!dn)0eW)-;\">RADIO_GROUP</variable><variable id=\"[yTc/P3M($:0B#7LUAk(\">BRILHO_LEDS</variable><variable id=\"7nu11+ojnEWzS]tt1)sa\">RGB_INICIAL</variable><variable id=\"=p(qQ_C7@89Q_vDdEL6L\">RGB_FRENTE</variable><variable id=\"Y@~l/m]mNa_.@EG}(dBW\">RGB_TRAS</variable><variable id=\"e1yFG1H=Wr2,M6NJLF8(\">RGB_CURVA</variable><variable id=\"eYq.Esh/02Ql7lY49!j4\">RGB_PARADO</variable><variable id=\"R(j{KjW~(1l]1,Fs)u*O\">brilho_calculado</variable><variable id=\")%vji*67|O9~qGxKf87v\">COR_INICIAL</variable></variables><block type=\"pxt-on-start\" x=\"20\" y=\"20\"><statement name=\"HANDLER\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let ANGULO_SERVO = 0\" numlines=\"1\" declaredvars=\"ANGULO_SERVO\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"^eYe*y.(JI!dn)0eW)-;\">RADIO_GROUP</field><comment pinned=\"false\" h=\"80\" w=\"160\">==============================================================================\n--- CONFIGURAÇÕES PERSONALIZÁVEIS ---\n==============================================================================\n--- GERAL ---</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"X,Q@j[H_t/?o8EtGl1ns\">CMD_FORWARD</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">F</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"$gHvdtcIj_E[KKwK$m[F\">CMD_BACKWARD</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">B</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"KZZU}#nsP362E=Qc0KZ0\">CMD_LEFT</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">E</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"/@H}+d*xe}Ig#4#}XgEM\">CMD_RIGHT</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">D</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"e{T;mauHqd$`U{jV-Ojw\">CMD_STOP</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">S</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"MU8zFCbnz63IGtD[dS},\">VELOCIDADE_FRENTE</field><comment pinned=\"false\" h=\"80\" w=\"160\">--- MOTORES ---</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">255</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"XJxkvslvS0[SC:{2!HJ0\">VELOCIDADE_CURVA</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let PORTA_SERVO = robotbit.Servos.S1\" numlines=\"1\" declaredvars=\"PORTA_SERVO\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"[yTc/P3M($:0B#7LUAk(\">BRILHO_LEDS</field><comment pinned=\"false\" h=\"80\" w=\"160\">--- LEDS RGB (NEOPIXEL) ---</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0.5</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"7nu11+ojnEWzS]tt1)sa\">RGB_INICIAL</field><comment pinned=\"false\" h=\"80\" w=\"160\">Valor de 0.0 (apagado) a 1.0 (máximo)\nCores em formato (R, G, B)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\"><mutation items=\"3\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"math_number\"><field name=\"NUM\">128</field></shadow></value><value name=\"ADD1\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"ADD2\"><shadow type=\"math_number\"><field name=\"NUM\">128</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"=p(qQ_C7@89Q_vDdEL6L\">RGB_FRENTE</field><comment pinned=\"false\" h=\"80\" w=\"160\">Roxo</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\"><mutation items=\"3\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"ADD1\"><shadow type=\"math_number\"><field name=\"NUM\">255</field></shadow></value><value name=\"ADD2\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Y@~l/m]mNa_.@EG}(dBW\">RGB_TRAS</field><comment pinned=\"false\" h=\"80\" w=\"160\">Verde</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\"><mutation items=\"3\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"math_number\"><field name=\"NUM\">255</field></shadow></value><value name=\"ADD1\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"ADD2\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"e1yFG1H=Wr2,M6NJLF8(\">RGB_CURVA</field><comment pinned=\"false\" h=\"80\" w=\"160\">Vermelho</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\"><mutation items=\"3\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"ADD1\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"ADD2\"><shadow type=\"math_number\"><field name=\"NUM\">255</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"eYq.Esh/02Ql7lY49!j4\">RGB_PARADO</field><comment pinned=\"false\" h=\"80\" w=\"160\">Azul</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\"><mutation items=\"3\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"ADD1\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"ADD2\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"SZaCZT(6KdcIK,#_C0i#\">strip</field><comment pinned=\"false\" h=\"80\" w=\"160\">Apagado\n==============================================================================\n--- INICIALIZAÇÃO E LÓGICA PRINCIPAL ---\n==============================================================================\n1. Inicialização do NeoPixel  &lt;- MUDANÇA\nCriamos o objeto 'strip' para controlar 4 LEDs RGB no Pino 16.</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"neopixel_create\"><field name=\"pin\">DigitalPin.P16</field><field name=\"mode\">NeoPixelMode.RGB</field><value name=\"numleds\"><shadow type=\"math_number\"><field name=\"NUM\">4</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"R(j{KjW~(1l]1,Fs)u*O\">brilho_calculado</field><comment pinned=\"false\" h=\"80\" w=\"160\">2. Configuração de Brilho  &lt;- MUDANÇA\nA biblioteca neopixel usa valores de 0 a 255 para o brilho.\nConvertemos nosso valor de 0.0-1.0 para essa escala.</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_js_round\"><field name=\"OP\">trunc</field><value name=\"ARG0\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"[yTc/P3M($:0B#7LUAk(\">BRILHO_LEDS</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">255</field></shadow></value></block></value></block></value><next><block type=\"neopixel_set_brightness\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"SZaCZT(6KdcIK,#_C0i#\">strip</field></block></value><value name=\"brightness\"><block type=\"variables_get\"><field name=\"VAR\" id=\"R(j{KjW~(1l]1,Fs)u*O\">brilho_calculado</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\")%vji*67|O9~qGxKf87v\">COR_INICIAL</field><comment pinned=\"false\" h=\"80\" w=\"160\">3. Preparação das Cores  &lt;- MUDANÇA\nUsamos neopixel.rgb() para criar os valores de cor que o 'strip' entende.</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"neopixel_rgb\"><value name=\"red\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"7nu11+ojnEWzS]tt1)sa\">RGB_INICIAL</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"green\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"7nu11+ojnEWzS]tt1)sa\">RGB_INICIAL</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><value name=\"blue\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"7nu11+ojnEWzS]tt1)sa\">RGB_INICIAL</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Q=Sv(XL66=dyN.w=950t\">COR_FRENTE</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"neopixel_rgb\"><value name=\"red\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"=p(qQ_C7@89Q_vDdEL6L\">RGB_FRENTE</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"green\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"=p(qQ_C7@89Q_vDdEL6L\">RGB_FRENTE</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><value name=\"blue\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"=p(qQ_C7@89Q_vDdEL6L\">RGB_FRENTE</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"V9j*3da!fG~uq)24]:?[\">COR_TRAS</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"neopixel_rgb\"><value name=\"red\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"Y@~l/m]mNa_.@EG}(dBW\">RGB_TRAS</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"green\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"Y@~l/m]mNa_.@EG}(dBW\">RGB_TRAS</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><value name=\"blue\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"Y@~l/m]mNa_.@EG}(dBW\">RGB_TRAS</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"k$NQj^sES/k;|7Kss6??\">COR_CURVA</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"neopixel_rgb\"><value name=\"red\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"e1yFG1H=Wr2,M6NJLF8(\">RGB_CURVA</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"green\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"e1yFG1H=Wr2,M6NJLF8(\">RGB_CURVA</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><value name=\"blue\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"e1yFG1H=Wr2,M6NJLF8(\">RGB_CURVA</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"S6Dn$iYCP:_}OR,`g;YY\">COR_PARADO</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"neopixel_rgb\"><value name=\"red\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"eYq.Esh/02Ql7lY49!j4\">RGB_PARADO</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"green\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"eYq.Esh/02Ql7lY49!j4\">RGB_PARADO</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><value name=\"blue\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"eYq.Esh/02Ql7lY49!j4\">RGB_PARADO</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value></block></value><next><block type=\"radio_set_group\"><comment pinned=\"false\" h=\"80\" w=\"160\">Configuração inicial</comment><value name=\"ID\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"^eYe*y.(JI!dn)0eW)-;\">RADIO_GROUP</field></block></value><next><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Silly</field><next><block type=\"neopixel_set_strip_color\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"SZaCZT(6KdcIK,#_C0i#\">strip</field></block></value><value name=\"rgb\"><shadow type=\"neopixel_colors\"><field name=\"color\">NeoPixelColors.Red</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\")%vji*67|O9~qGxKf87v\">COR_INICIAL</field></block></value><next><block type=\"device_pause\"><comment pinned=\"false\" h=\"80\" w=\"160\">&lt;- MUDANÇA</comment><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">500</field></shadow></value><next><block type=\"neopixel_set_strip_color\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"SZaCZT(6KdcIK,#_C0i#\">strip</field></block></value><value name=\"rgb\"><shadow type=\"neopixel_colors\"><field name=\"color\">NeoPixelColors.Red</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"S6Dn$iYCP:_}OR,`g;YY\">COR_PARADO</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"device_gesture_event\" x=\"1574\" y=\"20\"><field name=\"NAME\">Gesture.TiltLeft</field><statement name=\"HANDLER\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"robotbit.Servo(PORTA_SERVO, ANGULO_SERVO)\" numlines=\"1\"></mutation></block></statement></block><block type=\"input_logo_event\" x=\"2011\" y=\"20\"><field name=\"action\">TouchButtonEvent.Pressed</field><statement name=\"HANDLER\"><block type=\"robotbit_stop_all\"><next><block type=\"neopixel_set_strip_color\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"SZaCZT(6KdcIK,#_C0i#\">strip</field></block></value><value name=\"rgb\"><shadow type=\"neopixel_colors\"><field name=\"color\">NeoPixelColors.Red</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"S6Dn$iYCP:_}OR,`g;YY\">COR_PARADO</field></block></value><next><block type=\"robotbit_matrix_draw\"><comment pinned=\"false\" h=\"80\" w=\"160\">&lt;- MUDANÇA</comment><value name=\"x\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"y\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"basic_show_icon\"><field name=\"i\">IconNames.No</field></block></next></block></next></block></next></block></statement></block><block type=\"radio_on_string_drag\" x=\"2452\" y=\"20\"><value name=\"HANDLER_DRAG_PARAM_receivedString\"><block type=\"argument_reporter_string\" deletable=\"false\"><field name=\"VALUE\">receivedString</field></block></value><statement name=\"HANDLER\"><block type=\"controls_if\"><mutation elseif=\"4\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">receivedString</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"X,Q@j[H_t/?o8EtGl1ns\">CMD_FORWARD</field></block></value></block></value><statement name=\"DO0\"><block type=\"basic_show_arrow\"><value name=\"i\"><shadow type=\"device_arrow\"><field name=\"arrow\">ArrowNames.North</field></shadow></value><next><block type=\"neopixel_set_strip_color\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"SZaCZT(6KdcIK,#_C0i#\">strip</field></block></value><value name=\"rgb\"><shadow type=\"neopixel_colors\"><field name=\"color\">NeoPixelColors.Red</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Q=Sv(XL66=dyN.w=950t\">COR_FRENTE</field></block></value><next><block type=\"robotbit_motor_dual\"><field name=\"motor1\">robotbit.Motors.M1A</field><field name=\"motor2\">robotbit.Motors.M2A</field><comment pinned=\"false\" h=\"80\" w=\"160\">&lt;- MUDANÇA</comment><value name=\"speed1\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"MU8zFCbnz63IGtD[dS},\">VELOCIDADE_FRENTE</field></block></value><value name=\"speed2\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"MU8zFCbnz63IGtD[dS},\">VELOCIDADE_FRENTE</field></block></value></block></next></block></next></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">receivedString</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"$gHvdtcIj_E[KKwK$m[F\">CMD_BACKWARD</field></block></value></block></value><statement name=\"DO1\"><block type=\"basic_show_arrow\"><value name=\"i\"><shadow type=\"device_arrow\"><field name=\"arrow\">ArrowNames.South</field></shadow></value><next><block type=\"neopixel_set_strip_color\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"SZaCZT(6KdcIK,#_C0i#\">strip</field></block></value><value name=\"rgb\"><shadow type=\"neopixel_colors\"><field name=\"color\">NeoPixelColors.Red</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"V9j*3da!fG~uq)24]:?[\">COR_TRAS</field></block></value><next><block type=\"robotbit_motor_dual\"><field name=\"motor1\">robotbit.Motors.M1A</field><field name=\"motor2\">robotbit.Motors.M2A</field><comment pinned=\"false\" h=\"80\" w=\"160\">&lt;- MUDANÇA</comment><value name=\"speed1\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"MU8zFCbnz63IGtD[dS},\">VELOCIDADE_FRENTE</field></block></value></block></value><value name=\"speed2\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"MU8zFCbnz63IGtD[dS},\">VELOCIDADE_FRENTE</field></block></value></block></value></block></next></block></next></block></statement><value name=\"IF2\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">receivedString</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"KZZU}#nsP362E=Qc0KZ0\">CMD_LEFT</field></block></value></block></value><statement name=\"DO2\"><block type=\"basic_show_arrow\"><value name=\"i\"><shadow type=\"device_arrow\"><field name=\"arrow\">ArrowNames.West</field></shadow></value><next><block type=\"neopixel_set_strip_color\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"SZaCZT(6KdcIK,#_C0i#\">strip</field></block></value><value name=\"rgb\"><shadow type=\"neopixel_colors\"><field name=\"color\">NeoPixelColors.Red</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"k$NQj^sES/k;|7Kss6??\">COR_CURVA</field></block></value><next><block type=\"robotbit_motor_dual\"><field name=\"motor1\">robotbit.Motors.M1A</field><field name=\"motor2\">robotbit.Motors.M2A</field><comment pinned=\"false\" h=\"80\" w=\"160\">&lt;- MUDANÇA</comment><value name=\"speed1\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"XJxkvslvS0[SC:{2!HJ0\">VELOCIDADE_CURVA</field></block></value></block></value><value name=\"speed2\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"XJxkvslvS0[SC:{2!HJ0\">VELOCIDADE_CURVA</field></block></value></block></next></block></next></block></statement><value name=\"IF3\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">receivedString</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"/@H}+d*xe}Ig#4#}XgEM\">CMD_RIGHT</field></block></value></block></value><statement name=\"DO3\"><block type=\"basic_show_arrow\"><value name=\"i\"><shadow type=\"device_arrow\"><field name=\"arrow\">ArrowNames.East</field></shadow></value><next><block type=\"neopixel_set_strip_color\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"SZaCZT(6KdcIK,#_C0i#\">strip</field></block></value><value name=\"rgb\"><shadow type=\"neopixel_colors\"><field name=\"color\">NeoPixelColors.Red</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"k$NQj^sES/k;|7Kss6??\">COR_CURVA</field></block></value><next><block type=\"robotbit_motor_dual\"><field name=\"motor1\">robotbit.Motors.M1A</field><field name=\"motor2\">robotbit.Motors.M2A</field><comment pinned=\"false\" h=\"80\" w=\"160\">&lt;- MUDANÇA</comment><value name=\"speed1\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"XJxkvslvS0[SC:{2!HJ0\">VELOCIDADE_CURVA</field></block></value><value name=\"speed2\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"XJxkvslvS0[SC:{2!HJ0\">VELOCIDADE_CURVA</field></block></value></block></value></block></next></block></next></block></statement><value name=\"IF4\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">receivedString</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"e{T;mauHqd$`U{jV-Ojw\">CMD_STOP</field></block></value></block></value><statement name=\"DO4\"><block type=\"robotbit_stop_all\"><next><block type=\"neopixel_set_strip_color\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"SZaCZT(6KdcIK,#_C0i#\">strip</field></block></value><value name=\"rgb\"><shadow type=\"neopixel_colors\"><field name=\"color\">NeoPixelColors.Red</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"S6Dn$iYCP:_}OR,`g;YY\">COR_PARADO</field></block></value><next><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Asleep</field><comment pinned=\"false\" h=\"80\" w=\"160\">&lt;- MUDANÇA</comment></block></next></block></next></block></statement></block></statement></block></xml>","main.ts":"","README.md":"","main.py":"# ==============================================================================\n# --- 1. CONFIGURAÇÕES E DECLARAÇÕES ---\n# ==============================================================================\n# --- Declarações de Variáveis ---\nstrip: neopixel.Strip = None\nbrilho_calculado = 0\nCOR_FRENTE = 0; COR_TRAS = 0; COR_CURVA = 0; COR_PARADO = 0\n\n# --- Variáveis de Estado e Efeitos ---\nultimo_comando_recebido_tempo = 0\nTIMEOUT_CONEXAO = 500\nrobot_state = \"INICIALIZANDO\"\nrainbow_hue = 0\nultimo_pisca_tempo = 0\nled_pisca_ligado = True\n\n# --- Variáveis de Movimento Suave (Ramping) ---\nvelocidade_alvo_M1 = 0; velocidade_alvo_M2 = 0\nvelocidade_atual_M1 = 0; velocidade_atual_M2 = 0\n\n# --- Configurações Personalizáveis ---\nRADIO_GROUP = 1\nVELOCIDADE_MAXIMA = 255\nPASSO_ACELERACAO = 25\nPORTA_SERVO = robotbit.Servos.S2\nANGULO_CENTRO = 90; ANGULO_RIGHT = 110; ANGULO_LEFT = 70\nBRILHO_LEDS = 0.5\nRGB_FRENTE = (0, 255, 0); RGB_TRAS = (255, 0, 0); RGB_CURVA = (0, 0, 255)\n\n# ==============================================================================\n# --- 2. DEFINIÇÃO DAS FUNÇÕES ---\n# ==============================================================================\n\ndef definir_alvo_movimento(estado, servo_angulo, vel_m1, vel_m2, icone, cor_led):\n    global robot_state, velocidade_alvo_M1, velocidade_alvo_M2\n    robot_state = estado\n    robotbit.servo(PORTA_SERVO, servo_angulo)\n    velocidade_alvo_M1 = vel_m1\n    velocidade_alvo_M2 = vel_m2\n    basic.show_arrow(icone)\n    strip.show_color(cor_led)\n\ndef mover_frente():\n    definir_alvo_movimento(\"MOVENDO\", ANGULO_CENTRO, VELOCIDADE_MAXIMA, VELOCIDADE_MAXIMA, ArrowNames.NORTH, COR_FRENTE)\ndef mover_tras():\n    definir_alvo_movimento(\"MOVENDO\", ANGULO_CENTRO, -VELOCIDADE_MAXIMA, -VELOCIDADE_MAXIMA, ArrowNames.SOUTH, COR_TRAS)\ndef virar_esquerda():\n    definir_alvo_movimento(\"MOVENDO\", ANGULO_LEFT, VELOCIDADE_MAXIMA, VELOCIDADE_MAXIMA, ArrowNames.WEST, COR_CURVA)\ndef virar_direita():\n    definir_alvo_movimento(\"MOVENDO\", ANGULO_RIGHT, VELOCIDADE_MAXIMA, VELOCIDADE_MAXIMA, ArrowNames.EAST, COR_CURVA)\n\ndef parar_robô_normal():\n    global robot_state, velocidade_alvo_M1, velocidade_alvo_M2\n    robot_state = \"PARADO_NORMAL\"\n    velocidade_alvo_M1 = 0; velocidade_alvo_M2 = 0\n    basic.show_icon(IconNames.ASLEEP)\n\ndef parada_de_emergencia():\n    global robot_state, velocidade_alvo_M1, velocidade_alvo_M2\n    robot_state = \"EMERGENCIA\"\n    velocidade_alvo_M1 = 0; velocidade_alvo_M2 = 0\n    basic.show_icon(IconNames.NO)\n\n# --- Funções de Evento (Callbacks) ---\ndef on_radio_received(receivedNumber):\n    global ultimo_comando_recebido_tempo\n    ultimo_comando_recebido_tempo = input.running_time()\n    if receivedNumber == 5: parar_robô_normal()\n    else:\n        if receivedNumber == 1: mover_frente()\n        elif receivedNumber == 2: mover_tras()\n        elif receivedNumber == 3: virar_esquerda()\n        elif receivedNumber == 4: virar_direita()\nradio.on_received_number(on_radio_received)\n\ndef on_logo_pressed():\n    parada_de_emergencia()\ninput.on_logo_event(TouchButtonEvent.PRESSED, on_logo_pressed)\n\n# ==============================================================================\n# --- 3. LOOP PRINCIPAL (O \"PARA SEMPRE\" DO MAKECODE) ---\n# ==============================================================================\n\ndef on_forever():\n    global velocidade_atual_M1, velocidade_atual_M2, robot_state\n    global rainbow_hue, ultimo_pisca_tempo, led_pisca_ligado\n\n    # --- Lógica de Aceleração Suave (Ramping) ---\n    if velocidade_atual_M1 < velocidade_alvo_M1: velocidade_atual_M1 = min(velocidade_alvo_M1, velocidade_atual_M1 + PASSO_ACELERACAO)\n    elif velocidade_atual_M1 > velocidade_alvo_M1: velocidade_atual_M1 = max(velocidade_alvo_M1, velocidade_atual_M1 - PASSO_ACELERACAO)\n    if velocidade_atual_M2 < velocidade_alvo_M2: velocidade_atual_M2 = min(velocidade_alvo_M2, velocidade_atual_M2 + PASSO_ACELERACAO)\n    elif velocidade_atual_M2 > velocidade_alvo_M2: velocidade_atual_M2 = max(velocidade_alvo_M2, velocidade_atual_M2 - PASSO_ACELERACAO)\n    robotbit.motor_run_dual(robotbit.Motors.M1A, velocidade_atual_M1, robotbit.Motors.M2A, velocidade_atual_M2)\n\n    # --- Lógica do Failsafe (Timeout) ---\n    if input.running_time() - ultimo_comando_recebido_tempo > TIMEOUT_CONEXAO and robot_state != \"EMERGENCIA\":\n        parada_de_emergencia()\n\n    # --- Lógica dos Efeitos de Luz com base no Estado ---\n    if robot_state == \"PARADO_NORMAL\":\n        rainbow_hue = (rainbow_hue + 1) % 360\n        strip.show_color(neopixel.hsl(rainbow_hue, 255, 128))\n    elif robot_state == \"EMERGENCIA\":\n        if input.running_time() - ultimo_pisca_tempo > 250:\n            ultimo_pisca_tempo = input.running_time()\n            led_pisca_ligado = not led_pisca_ligado\n        strip.show_color(neopixel.colors(NeoPixelColors.RED) if led_pisca_ligado else neopixel.colors(NeoPixelColors.BLACK))\n\n    basic.pause(20)\n\n# ==============================================================================\n# --- 4. EXECUÇÃO INICIAL ---\n# ==============================================================================\n\n# --- Inicialização dos Periféricos ---\nradio.set_transmit_power(7)\nradio.set_group(RADIO_GROUP)\nstrip = neopixel.create(DigitalPin.P16, 4, NeoPixelMode.RGB)\nbrilho_calculado = int(BRILHO_LEDS * 255)\nstrip.set_brightness(brilho_calculado)\nCOR_FRENTE = neopixel.rgb(RGB_FRENTE[0], RGB_FRENTE[1], RGB_FRENTE[2])\nCOR_TRAS = neopixel.rgb(RGB_TRAS[0], RGB_TRAS[1], RGB_TRAS[2])\nCOR_CURVA = neopixel.rgb(RGB_CURVA[0], RGB_CURVA[1], RGB_CURVA[2])\n\n# --- Sequência de Inicialização com o \"Freedom Motif\" de Deltarune ---\nbasic.show_icon(IconNames.TARGET)\ndeltarune_motif_melhorado = \"D5:2 C#5:1 B4:2 G4:3 A4:2 B4:1 C#5:1 D5:3 R:1 D5:1 C#5:1 B4:1 G4:3 A4:2 G4:2 F#4:1 G4:4\"\nmusic.play_melody(deltarune_motif_melhorado, 130)\nstrip.show_color(neopixel.colors(NeoPixelColors.WHITE)); basic.pause(250)\nstrip.show_color(neopixel.colors(NeoPixelColors.BLACK)); basic.pause(250)\nrobotbit.servo(PORTA_SERVO, ANGULO_LEFT); basic.pause(250)\nrobotbit.servo(PORTA_SERVO, ANGULO_RIGHT); basic.pause(250)\nrobotbit.servo(PORTA_SERVO, ANGULO_CENTRO)\nmusic.play_tone(Note.G5, music.beat(BeatFraction.EIGHTH))\nparar_robô_normal()\nultimo_comando_recebido_tempo = input.running_time()\n\n# Registra a função on_forever para ser executada em loop\nbasic.forever(on_forever)","pxt.json":"{\n    \"name\": \"rc - Copy\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\",\n        \"robotbit\": \"github:kittenbot/pxt-robotbit#v0.4.8\",\n        \"i2cLCD1602\": \"github:makecode-extensions/i2clcd1602#v1.5.0\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"main.py\"\n    ],\n    \"preferredEditor\": \"pyprj\"\n}\n"}},{"timestamp":1758422377717,"editorVersion":"8.0.16","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"X,Q@j[H_t/?o8EtGl1ns\">CMD_FORWARD</variable><variable id=\"$gHvdtcIj_E[KKwK$m[F\">CMD_BACKWARD</variable><variable id=\"KZZU}#nsP362E=Qc0KZ0\">CMD_LEFT</variable><variable id=\"/@H}+d*xe}Ig#4#}XgEM\">CMD_RIGHT</variable><variable id=\"e{T;mauHqd$`U{jV-Ojw\">CMD_STOP</variable><variable id=\"SZaCZT(6KdcIK,#_C0i#\">strip</variable><variable id=\"Q=Sv(XL66=dyN.w=950t\">COR_FRENTE</variable><variable id=\"MU8zFCbnz63IGtD[dS},\">VELOCIDADE_FRENTE</variable><variable id=\"V9j*3da!fG~uq)24]:?[\">COR_TRAS</variable><variable id=\"k$NQj^sES/k;|7Kss6??\">COR_CURVA</variable><variable id=\"XJxkvslvS0[SC:{2!HJ0\">VELOCIDADE_CURVA</variable><variable id=\"S6Dn$iYCP:_}OR,`g;YY\">COR_PARADO</variable><variable id=\"^eYe*y.(JI!dn)0eW)-;\">RADIO_GROUP</variable><variable id=\"[yTc/P3M($:0B#7LUAk(\">BRILHO_LEDS</variable><variable id=\"7nu11+ojnEWzS]tt1)sa\">RGB_INICIAL</variable><variable id=\"=p(qQ_C7@89Q_vDdEL6L\">RGB_FRENTE</variable><variable id=\"Y@~l/m]mNa_.@EG}(dBW\">RGB_TRAS</variable><variable id=\"e1yFG1H=Wr2,M6NJLF8(\">RGB_CURVA</variable><variable id=\"eYq.Esh/02Ql7lY49!j4\">RGB_PARADO</variable><variable id=\"R(j{KjW~(1l]1,Fs)u*O\">brilho_calculado</variable><variable id=\")%vji*67|O9~qGxKf87v\">COR_INICIAL</variable></variables><block type=\"pxt-on-start\" x=\"20\" y=\"20\"><statement name=\"HANDLER\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let ANGULO_SERVO = 0\" numlines=\"1\" declaredvars=\"ANGULO_SERVO\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"^eYe*y.(JI!dn)0eW)-;\">RADIO_GROUP</field><comment pinned=\"false\" h=\"80\" w=\"160\">==============================================================================\n--- CONFIGURAÇÕES PERSONALIZÁVEIS ---\n==============================================================================\n--- GERAL ---</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"X,Q@j[H_t/?o8EtGl1ns\">CMD_FORWARD</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">F</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"$gHvdtcIj_E[KKwK$m[F\">CMD_BACKWARD</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">B</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"KZZU}#nsP362E=Qc0KZ0\">CMD_LEFT</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">E</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"/@H}+d*xe}Ig#4#}XgEM\">CMD_RIGHT</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">D</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"e{T;mauHqd$`U{jV-Ojw\">CMD_STOP</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">S</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"MU8zFCbnz63IGtD[dS},\">VELOCIDADE_FRENTE</field><comment pinned=\"false\" h=\"80\" w=\"160\">--- MOTORES ---</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">255</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"XJxkvslvS0[SC:{2!HJ0\">VELOCIDADE_CURVA</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">200</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let PORTA_SERVO = robotbit.Servos.S1\" numlines=\"1\" declaredvars=\"PORTA_SERVO\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"[yTc/P3M($:0B#7LUAk(\">BRILHO_LEDS</field><comment pinned=\"false\" h=\"80\" w=\"160\">--- LEDS RGB (NEOPIXEL) ---</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0.5</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"7nu11+ojnEWzS]tt1)sa\">RGB_INICIAL</field><comment pinned=\"false\" h=\"80\" w=\"160\">Valor de 0.0 (apagado) a 1.0 (máximo)\nCores em formato (R, G, B)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\"><mutation items=\"3\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"math_number\"><field name=\"NUM\">128</field></shadow></value><value name=\"ADD1\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"ADD2\"><shadow type=\"math_number\"><field name=\"NUM\">128</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"=p(qQ_C7@89Q_vDdEL6L\">RGB_FRENTE</field><comment pinned=\"false\" h=\"80\" w=\"160\">Roxo</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\"><mutation items=\"3\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"ADD1\"><shadow type=\"math_number\"><field name=\"NUM\">255</field></shadow></value><value name=\"ADD2\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Y@~l/m]mNa_.@EG}(dBW\">RGB_TRAS</field><comment pinned=\"false\" h=\"80\" w=\"160\">Verde</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\"><mutation items=\"3\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"math_number\"><field name=\"NUM\">255</field></shadow></value><value name=\"ADD1\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"ADD2\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"e1yFG1H=Wr2,M6NJLF8(\">RGB_CURVA</field><comment pinned=\"false\" h=\"80\" w=\"160\">Vermelho</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\"><mutation items=\"3\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"ADD1\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"ADD2\"><shadow type=\"math_number\"><field name=\"NUM\">255</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"eYq.Esh/02Ql7lY49!j4\">RGB_PARADO</field><comment pinned=\"false\" h=\"80\" w=\"160\">Azul</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\"><mutation items=\"3\" horizontalafter=\"3\"></mutation><value name=\"ADD0\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"ADD1\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"ADD2\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"SZaCZT(6KdcIK,#_C0i#\">strip</field><comment pinned=\"false\" h=\"80\" w=\"160\">Apagado\n==============================================================================\n--- INICIALIZAÇÃO E LÓGICA PRINCIPAL ---\n==============================================================================\n1. Inicialização do NeoPixel  &lt;- MUDANÇA\nCriamos o objeto 'strip' para controlar 4 LEDs RGB no Pino 16.</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"neopixel_create\"><field name=\"pin\">DigitalPin.P16</field><field name=\"mode\">NeoPixelMode.RGB</field><value name=\"numleds\"><shadow type=\"math_number\"><field name=\"NUM\">4</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"R(j{KjW~(1l]1,Fs)u*O\">brilho_calculado</field><comment pinned=\"false\" h=\"80\" w=\"160\">2. Configuração de Brilho  &lt;- MUDANÇA\nA biblioteca neopixel usa valores de 0 a 255 para o brilho.\nConvertemos nosso valor de 0.0-1.0 para essa escala.</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_js_round\"><field name=\"OP\">trunc</field><value name=\"ARG0\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"[yTc/P3M($:0B#7LUAk(\">BRILHO_LEDS</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">255</field></shadow></value></block></value></block></value><next><block type=\"neopixel_set_brightness\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"SZaCZT(6KdcIK,#_C0i#\">strip</field></block></value><value name=\"brightness\"><block type=\"variables_get\"><field name=\"VAR\" id=\"R(j{KjW~(1l]1,Fs)u*O\">brilho_calculado</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\")%vji*67|O9~qGxKf87v\">COR_INICIAL</field><comment pinned=\"false\" h=\"80\" w=\"160\">3. Preparação das Cores  &lt;- MUDANÇA\nUsamos neopixel.rgb() para criar os valores de cor que o 'strip' entende.</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"neopixel_rgb\"><value name=\"red\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"7nu11+ojnEWzS]tt1)sa\">RGB_INICIAL</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"green\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"7nu11+ojnEWzS]tt1)sa\">RGB_INICIAL</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><value name=\"blue\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"7nu11+ojnEWzS]tt1)sa\">RGB_INICIAL</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Q=Sv(XL66=dyN.w=950t\">COR_FRENTE</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"neopixel_rgb\"><value name=\"red\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"=p(qQ_C7@89Q_vDdEL6L\">RGB_FRENTE</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"green\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"=p(qQ_C7@89Q_vDdEL6L\">RGB_FRENTE</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><value name=\"blue\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"=p(qQ_C7@89Q_vDdEL6L\">RGB_FRENTE</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"V9j*3da!fG~uq)24]:?[\">COR_TRAS</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"neopixel_rgb\"><value name=\"red\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"Y@~l/m]mNa_.@EG}(dBW\">RGB_TRAS</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"green\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"Y@~l/m]mNa_.@EG}(dBW\">RGB_TRAS</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><value name=\"blue\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"Y@~l/m]mNa_.@EG}(dBW\">RGB_TRAS</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"k$NQj^sES/k;|7Kss6??\">COR_CURVA</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"neopixel_rgb\"><value name=\"red\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"e1yFG1H=Wr2,M6NJLF8(\">RGB_CURVA</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"green\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"e1yFG1H=Wr2,M6NJLF8(\">RGB_CURVA</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><value name=\"blue\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"e1yFG1H=Wr2,M6NJLF8(\">RGB_CURVA</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"S6Dn$iYCP:_}OR,`g;YY\">COR_PARADO</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"neopixel_rgb\"><value name=\"red\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"eYq.Esh/02Ql7lY49!j4\">RGB_PARADO</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"green\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"eYq.Esh/02Ql7lY49!j4\">RGB_PARADO</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><value name=\"blue\"><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"eYq.Esh/02Ql7lY49!j4\">RGB_PARADO</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value></block></value><next><block type=\"radio_set_group\"><comment pinned=\"false\" h=\"80\" w=\"160\">Configuração inicial</comment><value name=\"ID\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"^eYe*y.(JI!dn)0eW)-;\">RADIO_GROUP</field></block></value><next><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Silly</field><next><block type=\"neopixel_set_strip_color\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"SZaCZT(6KdcIK,#_C0i#\">strip</field></block></value><value name=\"rgb\"><shadow type=\"neopixel_colors\"><field name=\"color\">NeoPixelColors.Red</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\")%vji*67|O9~qGxKf87v\">COR_INICIAL</field></block></value><next><block type=\"device_pause\"><comment pinned=\"false\" h=\"80\" w=\"160\">&lt;- MUDANÇA</comment><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">500</field></shadow></value><next><block type=\"neopixel_set_strip_color\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"SZaCZT(6KdcIK,#_C0i#\">strip</field></block></value><value name=\"rgb\"><shadow type=\"neopixel_colors\"><field name=\"color\">NeoPixelColors.Red</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"S6Dn$iYCP:_}OR,`g;YY\">COR_PARADO</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"device_gesture_event\" x=\"1574\" y=\"20\"><field name=\"NAME\">Gesture.TiltLeft</field><statement name=\"HANDLER\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"robotbit.Servo(PORTA_SERVO, ANGULO_SERVO)\" numlines=\"1\"></mutation></block></statement></block><block type=\"input_logo_event\" x=\"2011\" y=\"20\"><field name=\"action\">TouchButtonEvent.Pressed</field><statement name=\"HANDLER\"><block type=\"robotbit_stop_all\"><next><block type=\"neopixel_set_strip_color\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"SZaCZT(6KdcIK,#_C0i#\">strip</field></block></value><value name=\"rgb\"><shadow type=\"neopixel_colors\"><field name=\"color\">NeoPixelColors.Red</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"S6Dn$iYCP:_}OR,`g;YY\">COR_PARADO</field></block></value><next><block type=\"robotbit_matrix_draw\"><comment pinned=\"false\" h=\"80\" w=\"160\">&lt;- MUDANÇA</comment><value name=\"x\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"y\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"basic_show_icon\"><field name=\"i\">IconNames.No</field></block></next></block></next></block></next></block></statement></block><block type=\"radio_on_string_drag\" x=\"2452\" y=\"20\"><value name=\"HANDLER_DRAG_PARAM_receivedString\"><block type=\"argument_reporter_string\" deletable=\"false\"><field name=\"VALUE\">receivedString</field></block></value><statement name=\"HANDLER\"><block type=\"controls_if\"><mutation elseif=\"4\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">receivedString</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"X,Q@j[H_t/?o8EtGl1ns\">CMD_FORWARD</field></block></value></block></value><statement name=\"DO0\"><block type=\"basic_show_arrow\"><value name=\"i\"><shadow type=\"device_arrow\"><field name=\"arrow\">ArrowNames.North</field></shadow></value><next><block type=\"neopixel_set_strip_color\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"SZaCZT(6KdcIK,#_C0i#\">strip</field></block></value><value name=\"rgb\"><shadow type=\"neopixel_colors\"><field name=\"color\">NeoPixelColors.Red</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Q=Sv(XL66=dyN.w=950t\">COR_FRENTE</field></block></value><next><block type=\"robotbit_motor_dual\"><field name=\"motor1\">robotbit.Motors.M1A</field><field name=\"motor2\">robotbit.Motors.M2A</field><comment pinned=\"false\" h=\"80\" w=\"160\">&lt;- MUDANÇA</comment><value name=\"speed1\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"MU8zFCbnz63IGtD[dS},\">VELOCIDADE_FRENTE</field></block></value><value name=\"speed2\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"MU8zFCbnz63IGtD[dS},\">VELOCIDADE_FRENTE</field></block></value></block></next></block></next></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">receivedString</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"$gHvdtcIj_E[KKwK$m[F\">CMD_BACKWARD</field></block></value></block></value><statement name=\"DO1\"><block type=\"basic_show_arrow\"><value name=\"i\"><shadow type=\"device_arrow\"><field name=\"arrow\">ArrowNames.South</field></shadow></value><next><block type=\"neopixel_set_strip_color\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"SZaCZT(6KdcIK,#_C0i#\">strip</field></block></value><value name=\"rgb\"><shadow type=\"neopixel_colors\"><field name=\"color\">NeoPixelColors.Red</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"V9j*3da!fG~uq)24]:?[\">COR_TRAS</field></block></value><next><block type=\"robotbit_motor_dual\"><field name=\"motor1\">robotbit.Motors.M1A</field><field name=\"motor2\">robotbit.Motors.M2A</field><comment pinned=\"false\" h=\"80\" w=\"160\">&lt;- MUDANÇA</comment><value name=\"speed1\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"MU8zFCbnz63IGtD[dS},\">VELOCIDADE_FRENTE</field></block></value></block></value><value name=\"speed2\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"MU8zFCbnz63IGtD[dS},\">VELOCIDADE_FRENTE</field></block></value></block></value></block></next></block></next></block></statement><value name=\"IF2\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">receivedString</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"KZZU}#nsP362E=Qc0KZ0\">CMD_LEFT</field></block></value></block></value><statement name=\"DO2\"><block type=\"basic_show_arrow\"><value name=\"i\"><shadow type=\"device_arrow\"><field name=\"arrow\">ArrowNames.West</field></shadow></value><next><block type=\"neopixel_set_strip_color\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"SZaCZT(6KdcIK,#_C0i#\">strip</field></block></value><value name=\"rgb\"><shadow type=\"neopixel_colors\"><field name=\"color\">NeoPixelColors.Red</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"k$NQj^sES/k;|7Kss6??\">COR_CURVA</field></block></value><next><block type=\"robotbit_motor_dual\"><field name=\"motor1\">robotbit.Motors.M1A</field><field name=\"motor2\">robotbit.Motors.M2A</field><comment pinned=\"false\" h=\"80\" w=\"160\">&lt;- MUDANÇA</comment><value name=\"speed1\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"XJxkvslvS0[SC:{2!HJ0\">VELOCIDADE_CURVA</field></block></value></block></value><value name=\"speed2\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"XJxkvslvS0[SC:{2!HJ0\">VELOCIDADE_CURVA</field></block></value></block></next></block></next></block></statement><value name=\"IF3\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">receivedString</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"/@H}+d*xe}Ig#4#}XgEM\">CMD_RIGHT</field></block></value></block></value><statement name=\"DO3\"><block type=\"basic_show_arrow\"><value name=\"i\"><shadow type=\"device_arrow\"><field name=\"arrow\">ArrowNames.East</field></shadow></value><next><block type=\"neopixel_set_strip_color\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"SZaCZT(6KdcIK,#_C0i#\">strip</field></block></value><value name=\"rgb\"><shadow type=\"neopixel_colors\"><field name=\"color\">NeoPixelColors.Red</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"k$NQj^sES/k;|7Kss6??\">COR_CURVA</field></block></value><next><block type=\"robotbit_motor_dual\"><field name=\"motor1\">robotbit.Motors.M1A</field><field name=\"motor2\">robotbit.Motors.M2A</field><comment pinned=\"false\" h=\"80\" w=\"160\">&lt;- MUDANÇA</comment><value name=\"speed1\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"XJxkvslvS0[SC:{2!HJ0\">VELOCIDADE_CURVA</field></block></value><value name=\"speed2\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"XJxkvslvS0[SC:{2!HJ0\">VELOCIDADE_CURVA</field></block></value></block></value></block></next></block></next></block></statement><value name=\"IF4\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_string\"><field name=\"VALUE\">receivedString</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"e{T;mauHqd$`U{jV-Ojw\">CMD_STOP</field></block></value></block></value><statement name=\"DO4\"><block type=\"robotbit_stop_all\"><next><block type=\"neopixel_set_strip_color\"><value name=\"strip\"><block type=\"variables_get\"><field name=\"VAR\" id=\"SZaCZT(6KdcIK,#_C0i#\">strip</field></block></value><value name=\"rgb\"><shadow type=\"neopixel_colors\"><field name=\"color\">NeoPixelColors.Red</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"S6Dn$iYCP:_}OR,`g;YY\">COR_PARADO</field></block></value><next><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Asleep</field><comment pinned=\"false\" h=\"80\" w=\"160\">&lt;- MUDANÇA</comment></block></next></block></next></block></statement></block></statement></block></xml>","main.ts":"","README.md":"","main.py":"# ==============================================================================\n# --- 1. CONFIGURAÇÕES E DECLARAÇÕES ---\n# ==============================================================================\n# --- Declarações de Variáveis ---\nstrip: neopixel.Strip = None\nbrilho_calculado = 0\nCOR_FRENTE = 0; COR_TRAS = 0; COR_CURVA = 0;\n\n# --- Variáveis de Estado e Efeitos ---\nultimo_comando_recebido_tempo = 0\nTIMEOUT_CONEXAO = 500\nrobot_state = \"INICIALIZANDO\"\nrainbow_hue = 0\nultimo_pisca_tempo = 0\nled_pisca_ligado = True\n\n# --- Variáveis de Movimento Suave (Ramping) ---\nvelocidade_alvo_M1 = 0; velocidade_alvo_M2 = 0\nvelocidade_atual_M1 = 0; velocidade_atual_M2 = 0\n\n# --- Configurações Personalizáveis ---\nRADIO_GROUP = 1\nVELOCIDADE_MAXIMA = 255\nPASSO_ACELERACAO = 25\nPORTA_SERVO = robotbit.Servos.S2\nANGULO_CENTRO = 90; ANGULO_RIGHT = 110; ANGULO_LEFT = 70\nBRILHO_LEDS = 0.5\nRGB_FRENTE = (0, 255, 0); RGB_TRAS = (255, 0, 0); RGB_CURVA = (0, 0, 255)\n\n# ==============================================================================\n# --- 2. DEFINIÇÃO DAS FUNÇÕES ---\n# ==============================================================================\n\ndef definir_alvo_movimento(estado, servo_angulo, vel_m1, vel_m2, icone, cor_led):\n    global robot_state, velocidade_alvo_M1, velocidade_alvo_M2\n    robot_state = estado\n    robotbit.servo(PORTA_SERVO, servo_angulo)\n    velocidade_alvo_M1 = vel_m1\n    velocidade_alvo_M2 = vel_m2\n    basic.show_arrow(icone)\n    strip.show_color(cor_led)\n\ndef mover_frente():\n    definir_alvo_movimento(\"MOVENDO\", ANGULO_CENTRO, VELOCIDADE_MAXIMA, VELOCIDADE_MAXIMA, ArrowNames.NORTH, COR_FRENTE)\ndef mover_tras():\n    definir_alvo_movimento(\"MOVENDO\", ANGULO_CENTRO, -VELOCIDADE_MAXIMA, -VELOCIDADE_MAXIMA, ArrowNames.SOUTH, COR_TRAS)\ndef virar_esquerda():\n    definir_alvo_movimento(\"MOVENDO\", ANGULO_LEFT, VELOCIDADE_MAXIMA, VELOCIDADE_MAXIMA, ArrowNames.WEST, COR_CURVA)\ndef virar_direita():\n    definir_alvo_movimento(\"MOVENDO\", ANGULO_RIGHT, VELOCIDADE_MAXIMA, VELOCIDADE_MAXIMA, ArrowNames.EAST, COR_CURVA)\n\ndef parar_robô_normal():\n    global robot_state, velocidade_alvo_M1, velocidade_alvo_M2\n    robot_state = \"PARADO_NORMAL\"\n    velocidade_alvo_M1 = 0; velocidade_alvo_M2 = 0\n    basic.show_icon(IconNames.ASLEEP)\n\ndef parada_de_emergencia():\n    global robot_state, velocidade_alvo_M1, velocidade_alvo_M2\n    robot_state = \"EMERGENCIA\"\n    velocidade_alvo_M1 = 0; velocidade_alvo_M2 = 0\n    basic.show_icon(IconNames.NO)\n\n# --- Funções de Evento (Callbacks) ---\ndef on_radio_received(receivedNumber):\n    global ultimo_comando_recebido_tempo\n    ultimo_comando_recebido_tempo = input.running_time()\n    if receivedNumber == 5: parar_robô_normal()\n    else:\n        if receivedNumber == 1: mover_frente()\n        elif receivedNumber == 2: mover_tras()\n        elif receivedNumber == 3: virar_esquerda()\n        elif receivedNumber == 4: virar_direita()\nradio.on_received_number(on_radio_received)\n\ndef on_logo_pressed():\n    parada_de_emergencia()\ninput.on_logo_event(TouchButtonEvent.PRESSED, on_logo_pressed)\n\n# ==============================================================================\n# --- 3. LOOP PRINCIPAL (O \"PARA SEMPRE\" DO MAKECODE) ---\n# ==============================================================================\n\ndef on_forever():\n    global velocidade_atual_M1, velocidade_atual_M2, robot_state\n    global rainbow_hue, ultimo_pisca_tempo, led_pisca_ligado\n\n    # --- Lógica de Aceleração Suave (Ramping) ---\n    if velocidade_atual_M1 < velocidade_alvo_M1: velocidade_atual_M1 = min(velocidade_alvo_M1, velocidade_atual_M1 + PASSO_ACELERACAO)\n    elif velocidade_atual_M1 > velocidade_alvo_M1: velocidade_atual_M1 = max(velocidade_alvo_M1, velocidade_atual_M1 - PASSO_ACELERACAO)\n    if velocidade_atual_M2 < velocidade_alvo_M2: velocidade_atual_M2 = min(velocidade_alvo_M2, velocidade_atual_M2 + PASSO_ACELERACAO)\n    elif velocidade_atual_M2 > velocidade_alvo_M2: velocidade_atual_M2 = max(velocidade_alvo_M2, velocidade_atual_M2 - PASSO_ACELERACAO)\n    robotbit.motor_run_dual(robotbit.Motors.M1A, velocidade_atual_M1, robotbit.Motors.M2A, velocidade_atual_M2)\n\n    # --- Lógica do Failsafe (Timeout) ---\n    if input.running_time() - ultimo_comando_recebido_tempo > TIMEOUT_CONEXAO and robot_state != \"EMERGENCIA\":\n        parada_de_emergencia()\n\n    # --- Lógica dos Efeitos de Luz com base no Estado ---\n    if robot_state == \"PARADO_NORMAL\":\n        rainbow_hue = (rainbow_hue + 1) % 360\n        strip.show_color(neopixel.hsl(rainbow_hue, 255, 128))\n    elif robot_state == \"EMERGENCIA\":\n        if input.running_time() - ultimo_pisca_tempo > 250:\n            ultimo_pisca_tempo = input.running_time()\n            led_pisca_ligado = not led_pisca_ligado\n        strip.show_color(neopixel.colors(NeoPixelColors.RED) if led_pisca_ligado else neopixel.colors(NeoPixelColors.BLACK))\n\n    basic.pause(20)\n\n# ==============================================================================\n# --- 4. EXECUÇÃO INICIAL ---\n# ==============================================================================\n\n# --- Inicialização dos Periféricos ---\nradio.set_transmit_power(7)\nradio.set_group(RADIO_GROUP)\nstrip = neopixel.create(DigitalPin.P16, 4, NeoPixelMode.RGB)\nbrilho_calculado = int(BRILHO_LEDS * 255)\nstrip.set_brightness(brilho_calculado)\n\n# SEÇÃO CORRIGIDA PARA RESOLVER O ERRO\nCOR_FRENTE = neopixel.rgb(RGB_FRENTE[0], RGB_FRENTE[1], RGB_FRENTE[2])\nCOR_TRAS = neopixel.rgb(RGB_TRAS[0], RGB_TRAS[1], RGB_TRAS[2])\nCOR_CURVA = neopixel.rgb(RGB_CURVA[0], RGB_CURVA[1], RGB_CURVA[2])\n\n# --- Sequência de Inicialização (Jingle Básico) ---\nbasic.show_icon(IconNames.TARGET)\nstartup_jingle = \"C4:1 E4:1 G4:1 C5:2\"\nmusic.play_melody(startup_jingle, 220)\n# Teste Rápido de Sistemas\nstrip.show_color(neopixel.colors(NeoPixelColors.WHITE)); basic.pause(200)\nstrip.show_color(neopixel.colors(NeoPixelColors.BLACK)); basic.pause(200)\nrobotbit.servo(PORTA_SERVO, ANGULO_CENTRO)\n# Entra no estado normal de espera\nparar_robô_normal()\nultimo_comando_recebido_tempo = input.running_time()\n\n# Registra a função on_forever para ser executada em loop\nbasic.forever(on_forever)","pxt.json":"{\n    \"name\": \"carinho fodão\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\",\n        \"robotbit\": \"github:kittenbot/pxt-robotbit#v0.4.8\",\n        \"i2cLCD1602\": \"github:makecode-extensions/i2clcd1602#v1.5.0\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"main.py\"\n    ],\n    \"preferredEditor\": \"pyprj\"\n}\n"}}],"shares":[],"lastSaveTime":1758422377734}